<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Boot Microservices Architecture Simulator</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Testing Frameworks -->
    <script src="https://cdn.jsdelivr.net/npm/jest@29.7.0/dist/jest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mocha@10.2.0/mocha.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chai@4.3.10/chai.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/mocha@10.2.0/mocha.css" rel="stylesheet">
    
    <style>
        :root {
            --bs-dark: #1a1a1a;
            --bs-body-bg: #1a1a1a;
            --bs-body-color: #e0e0e0;
            --bs-primary: #2196F3;
            --bs-success: #4CAF50;
            --bs-warning: #FF9800;
            --bs-danger: #f44336;
            --bs-secondary: #2a2a2a;
            --bs-dark-secondary: #333;
            --bs-info: #17a2b8;
            --microservice-color: #9C27B0;
            --spring-boot-color: #6DB33F;
            --gateway-color: #FF5722;
            --nginx-color: #009639;
            --aws-color: #FF9900;
            --queue-color: #607D8B;
            --rabbitmq-color: #FF6600;
            --kafka-color: #231F20;
            --monitor-color: #795548;
            --prometheus-color: #E6522C;
            --grafana-color: #F46800;
            --elk-color: #005571;
            --jest-color: #C21325;
            --mocha-color: #8D6748;
            --cypress-color: #17202C;
        }

        body {
            background: var(--bs-dark) !important;
            color: var(--bs-body-color) !important;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .navbar-dark {
            background: linear-gradient(135deg, #2196F3, #1976D2) !important;
        }

        .card {
            background: var(--bs-secondary) !important;
            border: 1px solid #444 !important;
            color: var(--bs-body-color) !important;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .table-dark {
            background: var(--bs-secondary) !important;
            border-color: #444 !important;
        }

        .table-dark th {
            border-color: #444 !important;
            color: var(--bs-primary) !important;
        }

        .table-dark td {
            border-color: #444 !important;
        }

        .nav-pills .nav-link.active {
            background-color: var(--bs-primary) !important;
        }

        .nav-pills .nav-link {
            color: var(--bs-body-color) !important;
        }

        .nav-pills .nav-link:hover {
            background: rgba(255,255,255,0.1) !important;
        }

        .btn-primary {
            background: var(--bs-primary) !important;
            border-color: var(--bs-primary) !important;
        }

        .btn-success {
            background: var(--bs-success) !important;
            border-color: var(--bs-success) !important;
        }

        .btn-warning {
            background: var(--bs-warning) !important;
            border-color: var(--bs-warning) !important;
        }

        .btn-danger {
            background: var(--bs-danger) !important;
            border-color: var(--bs-danger) !important;
        }

        .modal-content {
            background: var(--bs-secondary) !important;
            border: 1px solid #444 !important;
        }

        .modal-header {
            border-bottom: 1px solid #444 !important;
        }

        .modal-footer {
            border-top: 1px solid #444 !important;
        }

        .form-control {
            background: var(--bs-dark-secondary) !important;
            border: 1px solid #444 !important;
            color: var(--bs-body-color) !important;
        }

        .form-control:focus {
            background: var(--bs-dark-secondary) !important;
            border-color: var(--bs-primary) !important;
            color: var(--bs-body-color) !important;
            box-shadow: 0 0 0 0.2rem rgba(33, 150, 243, 0.25) !important;
        }

        .form-select {
            background: var(--bs-dark-secondary) !important;
            border: 1px solid #444 !important;
            color: var(--bs-body-color) !important;
        }

        .form-select:focus {
            background: var(--bs-dark-secondary) !important;
            border-color: var(--bs-primary) !important;
            color: var(--bs-body-color) !important;
            box-shadow: 0 0 0 0.2rem rgba(33, 150, 243, 0.25) !important;
        }

        .cluster-node {
            background: var(--bs-dark-secondary) !important;
            border: 2px solid #444 !important;
            border-radius: 12px !important;
            padding: 1rem !important;
            margin: 0.5rem !important;
            transition: all 0.3s ease !important;
        }

        .cluster-node:hover {
            border-color: var(--bs-primary) !important;
            transform: scale(1.02) !important;
        }

        .cluster-node.master {
            border-color: var(--bs-success) !important;
            background: linear-gradient(135deg, var(--bs-dark-secondary), #2d4a2d) !important;
        }

        .cluster-node.worker {
            border-color: var(--bs-primary) !important;
            background: linear-gradient(135deg, var(--bs-dark-secondary), #2d3a4a) !important;
        }

        .pod {
            width: 35px !important;
            height: 35px !important;
            border-radius: 6px !important;
            display: inline-flex !important;
            align-items: center !important;
            justify-content: center !important;
            font-size: 0.8rem !important;
            font-weight: bold !important;
            margin: 0.2rem !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
        }

        .pod:hover {
            transform: scale(1.1) !important;
        }

        .pod.running {
            background: var(--bs-success) !important;
            color: white !important;
        }

        .pod.pending {
            background: var(--bs-warning) !important;
            color: white !important;
        }

        .pod.failed {
            background: var(--bs-danger) !important;
            color: white !important;
        }

        .terminal {
            background: var(--bs-dark) !important;
            border: 1px solid #444 !important;
            border-radius: 8px !important;
            padding: 1rem !important;
            font-family: 'Courier New', monospace !important;
            height: 400px !important;
            overflow-y: auto !important;
            margin-top: 1rem !important;
        }

        .terminal-prompt {
            color: var(--bs-success) !important;
        }

        .terminal-command {
            color: var(--bs-primary) !important;
        }

        .terminal-output {
            color: var(--bs-body-color) !important;
        }

        .terminal-error {
            color: var(--bs-danger) !important;
        }

        .status-badge {
            font-size: 0.8rem !important;
            padding: 0.3rem 0.8rem !important;
            border-radius: 20px !important;
            font-weight: 500 !important;
        }

        .prediction-value {
            font-size: 2rem !important;
            font-weight: bold !important;
            margin: 20px 0 !important;
        }

        .prediction-confidence {
            font-size: 1rem !important;
            color: var(--bs-gray-400) !important;
        }

        .chart-container {
            position: relative !important;
            height: 300px !important;
            width: 100% !important;
        }

        .status-running {
            background: var(--bs-success) !important;
            color: white !important;
        }

        .status-stopped {
            background: var(--bs-danger) !important;
            color: white !important;
        }

        .status-pending {
            background: var(--bs-warning) !important;
            color: white !important;
        }

        .status-active {
            background: var(--bs-success) !important;
            color: white !important;
        }

        .status-creating {
            background: var(--bs-warning) !important;
            color: white !important;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in !important;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chart-container {
            position: relative !important;
            height: 300px !important;
            margin-top: 1rem !important;
            width: 100% !important;
        }

        .offcanvas-dark {
            background: var(--bs-secondary) !important;
            color: var(--bs-body-color) !important;
        }

        .list-group-item-dark {
            background: var(--bs-dark-secondary) !important;
            border-color: #444 !important;
            color: var(--bs-body-color) !important;
        }

        .list-group-item-dark:hover {
            background: #444 !important;
            color: var(--bs-primary) !important;
        }

        .progress {
            background: #444 !important;
        }

        .progress-bar {
            background: linear-gradient(90deg, var(--bs-success), var(--bs-primary)) !important;
        }

        .dropdown-menu {
            background: var(--bs-secondary) !important;
            border: 1px solid #444 !important;
        }

        .dropdown-item {
            color: var(--bs-body-color) !important;
        }

        .dropdown-item:hover {
            background: #444 !important;
            color: var(--bs-primary) !important;
        }

        .alert-dark {
            background: var(--bs-dark-secondary) !important;
            border-color: #444 !important;
            color: var(--bs-body-color) !important;
        }

        .sidebar-actions {
            background: var(--bs-secondary) !important;
            border: 1px solid #444 !important;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bs-dark-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: #444;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--bs-primary);
        }

        /* Microservices Architecture Styles */
        .microservice-node {
            background: var(--bs-dark-secondary) !important;
            border: 2px solid var(--microservice-color) !important;
            border-radius: 12px !important;
            padding: 1rem !important;
            margin: 0.5rem !important;
            transition: all 0.3s ease !important;
            position: relative;
            min-height: 120px;
        }

        .microservice-node:hover {
            border-color: var(--bs-primary) !important;
            transform: scale(1.02) !important;
        }

        .spring-boot-service {
            background: linear-gradient(135deg, var(--bs-dark-secondary), #2d4a2d) !important;
            border-color: var(--spring-boot-color) !important;
        }

        .api-gateway {
            background: linear-gradient(135deg, var(--bs-dark-secondary), #4a2d2d) !important;
            border-color: var(--gateway-color) !important;
        }

        .nginx-proxy {
            background: linear-gradient(135deg, var(--bs-dark-secondary), #2d4a2d) !important;
            border-color: var(--nginx-color) !important;
        }

        .aws-gateway {
            background: linear-gradient(135deg, var(--bs-dark-secondary), #4a3d2d) !important;
            border-color: var(--aws-color) !important;
        }

        .service-discovery {
            background: linear-gradient(135deg, var(--bs-dark-secondary), #2d4a4a) !important;
            border-color: var(--bs-info) !important;
        }

        .message-queue {
            background: linear-gradient(135deg, var(--bs-dark-secondary), #3d3d2d) !important;
            border-color: var(--queue-color) !important;
        }

        .rabbitmq-service {
            background: linear-gradient(135deg, var(--bs-dark-secondary), #4a3d2d) !important;
            border-color: var(--rabbitmq-color) !important;
        }

        .kafka-service {
            background: linear-gradient(135deg, var(--bs-dark-secondary), #2d2d2d) !important;
            border-color: var(--kafka-color) !important;
        }

        .monitoring-service {
            background: linear-gradient(135deg, var(--bs-dark-secondary), #4a3d2d) !important;
            border-color: var(--monitor-color) !important;
        }

        .prometheus-service {
            background: linear-gradient(135deg, var(--bs-dark-secondary), #4a2d2d) !important;
            border-color: var(--prometheus-color) !important;
        }

        .grafana-service {
            background: linear-gradient(135deg, var(--bs-dark-secondary), #4a3d2d) !important;
            border-color: var(--grafana-color) !important;
        }

        .elk-service {
            background: linear-gradient(135deg, var(--bs-dark-secondary), #2d3d4a) !important;
            border-color: var(--elk-color) !important;
        }

        .service-connection {
            position: absolute;
            background: var(--bs-primary);
            height: 2px;
            z-index: 1;
            opacity: 0.7;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }

        .topology-container {
            position: relative;
            height: 600px;
            background: var(--bs-dark-secondary);
            border: 1px solid #444;
            border-radius: 8px;
            overflow: hidden;
        }

        .service-mesh-node {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            text-align: center;
            color: white;
        }

        .service-mesh-node:hover {
            transform: scale(1.1);
            border-color: var(--bs-primary);
        }

        .metric-card {
            background: var(--bs-dark-secondary);
            border: 1px solid #444;
            border-radius: 8px;
            padding: 1rem;
            margin: 0.5rem;
            text-align: center;
        }

        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--bs-primary);
        }

        .metric-label {
            font-size: 0.9rem;
            color: var(--bs-body-color);
            margin-top: 0.5rem;
        }

        .log-entry {
            background: var(--bs-dark);
            border: 1px solid #444;
            border-radius: 4px;
            padding: 0.5rem;
            margin: 0.25rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
        }

        .log-entry.info {
            border-left: 4px solid var(--bs-info);
        }

        .log-entry.warning {
            border-left: 4px solid var(--bs-warning);
        }

        .log-entry.error {
            border-left: 4px solid var(--bs-danger);
        }

        .log-entry.debug {
            border-left: 4px solid var(--bs-secondary);
        }

        .trace-step {
            background: var(--bs-dark-secondary);
            border: 1px solid #444;
            border-radius: 4px;
            padding: 0.75rem;
            margin: 0.5rem 0;
            position: relative;
        }

        .trace-step::before {
            content: '';
            position: absolute;
            left: -6px;
            top: 50%;
            width: 12px;
            height: 12px;
            background: var(--bs-primary);
            border-radius: 50%;
            transform: translateY(-50%);
        }

        .trace-duration {
            color: var(--bs-warning);
            font-weight: bold;
        }

        .alert-item {
            background: var(--bs-dark-secondary);
            border: 1px solid #444;
            border-radius: 8px;
            padding: 1rem;
            margin: 0.5rem 0;
            border-left: 4px solid var(--bs-danger);
        }

        .alert-item.warning {
            border-left-color: var(--bs-warning);
        }

        .alert-item.info {
            border-left-color: var(--bs-info);
        }

        .queue-visualization {
            background: var(--bs-dark-secondary);
            border: 1px solid #444;
            border-radius: 8px;
            padding: 1rem;
            margin: 0.5rem 0;
        }

        .queue-message {
            background: var(--bs-dark);
            border: 1px solid var(--queue-color);
            border-radius: 4px;
            padding: 0.5rem;
            margin: 0.25rem;
            display: inline-block;
            animation: slideIn 0.5s ease-in-out;
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .gateway-route {
            background: var(--bs-dark-secondary);
            border: 1px solid #444;
            border-radius: 8px;
            padding: 1rem;
            margin: 0.5rem 0;
            border-left: 4px solid var(--gateway-color);
        }

        .service-registry-item {
            background: var(--bs-dark-secondary);
            border: 1px solid #444;
            border-radius: 8px;
            padding: 1rem;
            margin: 0.5rem 0;
            border-left: 4px solid var(--bs-info);
        }

        .service-status {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .service-status.healthy {
            background: var(--bs-success);
            animation: pulse 2s infinite;
        }

        .service-status.unhealthy {
            background: var(--bs-danger);
        }

        .service-status.degraded {
            background: var(--bs-warning);
        }

        /* Testing Framework Styles */
        .test-framework {
            background: var(--bs-dark-secondary) !important;
            border: 2px solid #444 !important;
            border-radius: 12px !important;
            padding: 1rem !important;
            margin: 0.5rem !important;
            transition: all 0.3s ease !important;
        }

        .jest-framework {
            border-color: var(--jest-color) !important;
            background: linear-gradient(135deg, var(--bs-dark-secondary), #4a2d2d) !important;
        }

        .mocha-framework {
            border-color: var(--mocha-color) !important;
            background: linear-gradient(135deg, var(--bs-dark-secondary), #4a3d2d) !important;
        }

        .cypress-framework {
            border-color: var(--cypress-color) !important;
            background: linear-gradient(135deg, var(--bs-dark-secondary), #2d2d2d) !important;
        }

        .test-result {
            padding: 0.5rem;
            margin: 0.25rem 0;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .test-pass {
            background: rgba(76, 175, 80, 0.2) !important;
            border-left: 4px solid var(--bs-success);
            color: var(--bs-success);
        }

        .test-fail {
            background: rgba(244, 67, 54, 0.2) !important;
            border-left: 4px solid var(--bs-danger);
            color: var(--bs-danger);
        }

        .test-pending {
            background: rgba(255, 152, 0, 0.2) !important;
            border-left: 4px solid var(--bs-warning);
            color: var(--bs-warning);
        }

        .coverage-bar {
            height: 20px;
            background: #444;
            border-radius: 10px;
            overflow: hidden;
            margin: 0.5rem 0;
        }

        .coverage-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--bs-danger), var(--bs-warning), var(--bs-success));
            transition: width 0.5s ease;
        }

        .test-console {
            background: var(--bs-dark) !important;
            border: 1px solid #444 !important;
            border-radius: 8px !important;
            padding: 1rem !important;
            font-family: 'Courier New', monospace !important;
            height: 300px !important;
            overflow-y: auto !important;
            margin-top: 1rem !important;
        }

        /* Backend & Frontend Architecture Styles */
        .architecture-layer {
            background: var(--bs-dark-secondary) !important;
            border: 2px solid #444 !important;
            border-radius: 12px !important;
            padding: 1.5rem !important;
            margin: 1rem 0 !important;
            transition: all 0.3s ease !important;
            position: relative;
        }

        .architecture-layer:hover {
            border-color: var(--bs-primary) !important;
            transform: translateY(-2px) !important;
        }

        .backend-layer {
            border-color: #FF6B35 !important;
            background: linear-gradient(135deg, var(--bs-dark-secondary), #3d2d1f) !important;
        }

        .frontend-layer {
            border-color: #4ECDC4 !important;
            background: linear-gradient(135deg, var(--bs-dark-secondary), #1f3d3a) !important;
        }

        .database-layer {
            border-color: #45B7D1 !important;
            background: linear-gradient(135deg, var(--bs-dark-secondary), #1f2d3a) !important;
        }

        .component-box {
            background: rgba(255,255,255,0.05) !important;
            border: 1px solid #555 !important;
            border-radius: 8px !important;
            padding: 1rem !important;
            margin: 0.5rem !important;
            text-align: center !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
        }

        .component-box:hover {
            background: rgba(255,255,255,0.1) !important;
            border-color: var(--bs-primary) !important;
            transform: scale(1.05) !important;
        }

        .api-endpoint {
            background: var(--bs-dark-secondary) !important;
            border-left: 4px solid var(--bs-success) !important;
            padding: 0.75rem !important;
            margin: 0.25rem 0 !important;
            border-radius: 4px !important;
            font-family: 'Courier New', monospace !important;
        }

        .api-method {
            padding: 0.2rem 0.5rem !important;
            border-radius: 4px !important;
            font-size: 0.8rem !important;
            font-weight: bold !important;
            margin-right: 0.5rem !important;
        }

        .method-get { background: var(--bs-success) !important; }
        .method-post { background: var(--bs-primary) !important; }
        .method-put { background: var(--bs-warning) !important; }
        .method-delete { background: var(--bs-danger) !important; }

        .data-flow-arrow {
            color: var(--bs-primary) !important;
            font-size: 1.5rem !important;
            text-align: center !important;
            margin: 0.5rem 0 !important;
        }

        .tech-stack-item {
            background: var(--bs-dark-secondary) !important;
            border: 1px solid #444 !important;
            border-radius: 8px !important;
            padding: 1rem !important;
            margin: 0.5rem !important;
            text-align: center !important;
            transition: all 0.3s ease !important;
        }

        .tech-stack-item:hover {
            border-color: var(--bs-primary) !important;
            transform: translateY(-3px) !important;
        }

        .performance-metric {
            background: rgba(33, 150, 243, 0.1) !important;
            border: 1px solid var(--bs-primary) !important;
            border-radius: 8px !important;
            padding: 1rem !important;
            text-align: center !important;
        }

        .code-editor {
            background: var(--bs-dark) !important;
            border: 1px solid #444 !important;
            border-radius: 8px !important;
            padding: 1rem !important;
            font-family: 'Courier New', monospace !important;
            min-height: 200px !important;
            color: var(--bs-body-color) !important;
            font-size: 0.9rem !important;
            line-height: 1.4 !important;
        }

        .deployment-pipeline {
            background: var(--bs-dark-secondary) !important;
            border: 2px solid #444 !important;
            border-radius: 12px !important;
            padding: 1rem !important;
            margin: 0.5rem 0 !important;
        }

        .pipeline-stage {
            background: rgba(33, 150, 243, 0.2) !important;
            border: 1px solid var(--bs-primary) !important;
            border-radius: 6px !important;
            padding: 0.75rem !important;
            margin: 0.25rem !important;
            text-align: center !important;
        }

        .status-indicator {
            width: 12px !important;
            height: 12px !important;
            border-radius: 50% !important;
            display: inline-block !important;
            margin-right: 0.5rem !important;
        }

        .status-healthy { background: var(--bs-success) !important; }
        .status-warning { background: var(--bs-warning) !important; }
        .status-error { background: var(--bs-danger) !important; }
        .status-loading { 
            background: var(--bs-primary) !important; 
            animation: pulse 1s infinite !important;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <span class="fs-2 me-2">üê≥</span>
                <span>Spring Boot Microservices Simulator</span>
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebar">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="navbar-nav ms-auto d-flex flex-row">
                <span class="navbar-text me-3">
                    <i class="bi bi-circle-fill text-success"></i>
                    Cluster: <span id="cluster-status">Ready</span>
                </span>
                <span class="navbar-text me-3">
                    <i class="bi bi-servers"></i>
                    Nodes: <span id="node-count">3</span>
                </span>
                <span class="navbar-text">
                    <i class="bi bi-box"></i>
                    Pods: <span id="pod-count">0</span>
                </span>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 col-lg-2 p-0">
                <div class="offcanvas-md offcanvas-start offcanvas-dark" tabindex="-1" id="sidebar">
                    <div class="offcanvas-header">
                        <h5 class="offcanvas-title">Quick Actions</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#sidebar"></button>
                    </div>
                    <div class="offcanvas-body p-0">
                        <div class="list-group list-group-flush">
                            <a href="#" class="list-group-item list-group-item-dark d-flex align-items-center" onclick="showCreateContainerModal()">
                                <i class="bi bi-box me-2"></i> Create Container
                            </a>
                            <a href="#" class="list-group-item list-group-item-dark d-flex align-items-center" onclick="showCreatePodModal()">
                                <i class="bi bi-rocket me-2"></i> Create Pod
                            </a>
                            <a href="#" class="list-group-item list-group-item-dark d-flex align-items-center" onclick="showCreateDeploymentModal()">
                                <i class="bi bi-gear me-2"></i> Create Deployment
                            </a>
                            <a href="#" class="list-group-item list-group-item-dark d-flex align-items-center" onclick="showCreateServiceModal()">
                                <i class="bi bi-link-45deg me-2"></i> Create Service
                            </a>
                            <a href="#" class="list-group-item list-group-item-dark d-flex align-items-center" onclick="scaleDeployment()">
                                <i class="bi bi-bar-chart me-2"></i> Scale Deployment
                            </a>
                            <a href="#" class="list-group-item list-group-item-dark d-flex align-items-center" onclick="simulateLoad()">
                                <i class="bi bi-cpu me-2"></i> Simulate Load
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Content Area -->
            <div class="col-md-9 col-lg-10">
                <!-- Tab Navigation -->
                <ul class="nav nav-pills mb-3 mt-3" id="main-tabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="dashboard-tab" data-bs-toggle="pill" data-bs-target="#dashboard" type="button" role="tab">
                            <i class="bi bi-speedometer2 me-1"></i> Dashboard
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="docker-tab" data-bs-toggle="pill" data-bs-target="#docker" type="button" role="tab">
                            <i class="bi bi-box me-1"></i> Docker
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="kubernetes-tab" data-bs-toggle="pill" data-bs-target="#kubernetes" type="button" role="tab">
                            <i class="bi bi-diagram-3 me-1"></i> Kubernetes
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="monitoring-tab" data-bs-toggle="pill" data-bs-target="#monitoring" type="button" role="tab">
                            <i class="bi bi-graph-up me-1"></i> Monitoring
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="data-pipeline-tab" data-bs-toggle="pill" data-bs-target="#data-pipeline" type="button" role="tab">
                            <i class="bi bi-diagram-2 me-1"></i> Data Pipeline
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="ml-interpretability-tab" data-bs-toggle="pill" data-bs-target="#ml-interpretability" type="button" role="tab">
                            <i class="bi bi-brain me-1"></i> ML Interpretability
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="terminal-tab" data-bs-toggle="pill" data-bs-target="#terminal" type="button" role="tab">
                            <i class="bi bi-terminal me-1"></i> Terminal
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="microservices-tab" data-bs-toggle="pill" data-bs-target="#microservices" type="button" role="tab">
                            <i class="bi bi-gear-wide-connected me-1"></i> Microservices
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="service-discovery-tab" data-bs-toggle="pill" data-bs-target="#service-discovery" type="button" role="tab">
                            <i class="bi bi-search me-1"></i> Service Discovery
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="api-gateway-tab" data-bs-toggle="pill" data-bs-target="#api-gateway" type="button" role="tab">
                            <i class="bi bi-router me-1"></i> API Gateway
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="message-queues-tab" data-bs-toggle="pill" data-bs-target="#message-queues" type="button" role="tab">
                            <i class="bi bi-arrows-fullscreen me-1"></i> Message Queues
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="monitoring-stack-tab" data-bs-toggle="pill" data-bs-target="#monitoring-stack" type="button" role="tab">
                            <i class="bi bi-bar-chart-line me-1"></i> Monitoring Stack
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="testing-tab" data-bs-toggle="pill" data-bs-target="#testing" type="button" role="tab">
                            <i class="bi bi-check2-square me-1"></i> Testing Frameworks
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="backend-tab" data-bs-toggle="pill" data-bs-target="#backend" type="button" role="tab">
                            <i class="bi bi-server me-1"></i> Backend Architecture
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="frontend-tab" data-bs-toggle="pill" data-bs-target="#frontend" type="button" role="tab">
                            <i class="bi bi-window me-1"></i> Frontend Architecture
                        </button>
                    </li>
                </ul>

                <!-- Tab Content -->
                <div class="tab-content" id="main-tab-content">
                    <!-- Dashboard Tab -->
                    <div class="tab-pane fade show active" id="dashboard" role="tabpanel">
                        <div class="row g-3">
                            <div class="col-xl-3 col-lg-4 col-md-6">
                                <div class="card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <i class="bi bi-box text-primary me-2"></i>
                                            Docker Containers
                                        </h5>
                                        <h2 class="text-success" id="docker-count">0</h2>
                                        <small class="text-muted">Active containers</small>
                                        <div class="chart-container">
                                            <canvas id="docker-chart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-4 col-md-6">
                                <div class="card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <i class="bi bi-diagram-3 text-primary me-2"></i>
                                            Kubernetes Pods
                                        </h5>
                                        <h2 class="text-success" id="k8s-count">0</h2>
                                        <small class="text-muted">Running pods</small>
                                        <div class="chart-container">
                                            <canvas id="k8s-chart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-4 col-md-6">
                                <div class="card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <i class="bi bi-memory text-primary me-2"></i>
                                            Memory Usage
                                        </h5>
                                        <h2 class="text-warning" id="memory-usage">0%</h2>
                                        <small class="text-muted">Cluster memory</small>
                                        <div class="chart-container">
                                            <canvas id="memory-chart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-4 col-md-6">
                                <div class="card h-100">
                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <i class="bi bi-cpu text-primary me-2"></i>
                                            CPU Usage
                                        </h5>
                                        <h2 class="text-warning" id="cpu-usage">0%</h2>
                                        <small class="text-muted">Cluster CPU</small>
                                        <div class="chart-container">
                                            <canvas id="cpu-chart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Docker Tab -->
                    <div class="tab-pane fade" id="docker" role="tabpanel">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="card-title mb-0">
                                    <i class="bi bi-box me-2"></i>
                                    Docker Containers
                                </h5>
                                <div class="btn-group">
                                    <button class="btn btn-primary btn-sm" onclick="showCreateContainerModal()">
                                        <i class="bi bi-plus"></i> Create
                                    </button>
                                    <button class="btn btn-success btn-sm" onclick="startAllContainers()">
                                        <i class="bi bi-play"></i> Start All
                                    </button>
                                    <button class="btn btn-warning btn-sm" onclick="stopAllContainers()">
                                        <i class="bi bi-stop"></i> Stop All
                                    </button>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                <div class="table-responsive">
                                    <table class="table table-dark table-hover mb-0">
                                        <thead>
                                            <tr>
                                                <th>Container ID</th>
                                                <th>Image</th>
                                                <th>Status</th>
                                                <th>Ports</th>
                                                <th>Created</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="docker-containers">
                                            <!-- Dynamic content -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Kubernetes Tab -->
                    <div class="tab-pane fade" id="kubernetes" role="tabpanel">
                        <!-- Cluster Visualization -->
                        <div class="card mb-4">
                            <div class="card-header">
                                <h5 class="card-title mb-0">
                                    <i class="bi bi-diagram-3 me-2"></i>
                                    Cluster Visualization
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="d-flex flex-wrap gap-3" id="cluster-nodes">
                                    <!-- Dynamic content -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- Resources Table -->
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="card-title mb-0">
                                    <i class="bi bi-list me-2"></i>
                                    Kubernetes Resources
                                </h5>
                                <div class="btn-group">
                                    <button class="btn btn-primary btn-sm" onclick="showCreatePodModal()">
                                        <i class="bi bi-plus"></i> Pod
                                    </button>
                                    <button class="btn btn-success btn-sm" onclick="showCreateDeploymentModal()">
                                        <i class="bi bi-plus"></i> Deployment
                                    </button>
                                    <button class="btn btn-warning btn-sm" onclick="showCreateServiceModal()">
                                        <i class="bi bi-plus"></i> Service
                                    </button>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                <div class="table-responsive">
                                    <table class="table table-dark table-hover mb-0">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Type</th>
                                                <th>Status</th>
                                                <th>Node</th>
                                                <th>Created</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="k8s-resources">
                                            <!-- Dynamic content -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Monitoring Tab -->
                    <div class="tab-pane fade" id="monitoring" role="tabpanel">
                        <!-- Real-time Metrics Cards -->
                        <div class="row g-3 mb-4">
                            <div class="col-xl-3 col-lg-6">
                                <div class="metric-card">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <div class="metric-label">CPU Usage</div>
                                            <div class="metric-value" id="monitoring-cpu">--</div>
                                            <div class="metric-change positive" id="cpu-change">‚Üë 2.1%</div>
                                        </div>
                                        <i class="bi bi-cpu fs-1 text-primary opacity-25"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="metric-card">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <div class="metric-label">Memory</div>
                                            <div class="metric-value" id="monitoring-memory">--</div>
                                            <div class="metric-change positive" id="memory-change">‚Üë 1.5%</div>
                                        </div>
                                        <i class="bi bi-memory fs-1 text-success opacity-25"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="metric-card">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <div class="metric-label">Storage</div>
                                            <div class="metric-value" id="monitoring-storage">--</div>
                                            <div class="metric-change negative" id="storage-change">‚Üì 0.3%</div>
                                        </div>
                                        <i class="bi bi-hdd fs-1 text-info opacity-25"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="metric-card">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <div class="metric-label">Network I/O</div>
                                            <div class="metric-value" id="monitoring-network">--</div>
                                            <div class="metric-change positive" id="network-change">‚Üë 5.2%</div>
                                        </div>
                                        <i class="bi bi-wifi fs-1 text-warning opacity-25"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Detailed Charts -->
                        <div class="row g-3">
                            <div class="col-lg-6">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-bar-chart me-2"></i>
                                            Resource Utilization
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label class="form-label">CPU Usage</label>
                                            <div class="progress">
                                                <div class="progress-bar" id="cpu-bar" role="progressbar" style="width: 0%"></div>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Memory Usage</label>
                                            <div class="progress">
                                                <div class="progress-bar" id="memory-bar" role="progressbar" style="width: 0%"></div>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Storage Usage</label>
                                            <div class="progress">
                                                <div class="progress-bar" id="storage-bar" role="progressbar" style="width: 0%"></div>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <label class="form-label">Network I/O</label>
                                            <div class="progress">
                                                <div class="progress-bar bg-warning" id="network-bar" role="progressbar" style="width: 0%"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-graph-up me-2"></i>
                                            Performance Metrics
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            <canvas id="metrics-chart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Data Pipeline Tab -->
                    <div class="tab-pane fade" id="data-pipeline" role="tabpanel">
                        <!-- Pipeline Overview Cards -->
                        <div class="row g-3 mb-4">
                            <div class="col-xl-3 col-lg-6">
                                <div class="metric-card">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <div class="metric-label">Active Pipelines</div>
                                            <div class="metric-value" id="active-pipelines">0</div>
                                            <div class="metric-change positive">‚Üë Ready</div>
                                        </div>
                                        <i class="bi bi-diagram-2 fs-1 text-primary opacity-25"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="metric-card">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <div class="metric-label">Data Processed</div>
                                            <div class="metric-value" id="data-processed">0 GB</div>
                                            <div class="metric-change positive" id="processing-rate">‚Üë 0 MB/s</div>
                                        </div>
                                        <i class="bi bi-database fs-1 text-success opacity-25"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="metric-card">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <div class="metric-label">Spark Jobs</div>
                                            <div class="metric-value" id="spark-jobs">0</div>
                                            <div class="metric-change positive">Ready</div>
                                        </div>
                                        <i class="bi bi-lightning fs-1 text-warning opacity-25"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="metric-card">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <div class="metric-label">Success Rate</div>
                                            <div class="metric-value" id="success-rate">100%</div>
                                            <div class="metric-change positive">‚Üë Optimal</div>
                                        </div>
                                        <i class="bi bi-check-circle fs-1 text-success opacity-25"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Pipeline Management -->
                        <div class="row g-3 mb-4">
                            <div class="col-lg-8">
                                <div class="card h-100">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-diagram-3 me-2"></i>
                                            Data Pipeline Management
                                        </h5>
                                        <div class="btn-group">
                                            <button class="btn btn-primary btn-sm" onclick="showCreatePipelineModal()">
                                                <i class="bi bi-plus"></i> Create Pipeline
                                            </button>
                                            <button class="btn btn-success btn-sm" onclick="runAllPipelines()">
                                                <i class="bi bi-play"></i> Run All
                                            </button>
                                            <button class="btn btn-warning btn-sm" onclick="stopAllPipelines()">
                                                <i class="bi bi-stop"></i> Stop All
                                            </button>
                                        </div>
                                    </div>
                                    <div class="card-body p-0">
                                        <div class="table-responsive">
                                            <table class="table table-dark table-hover mb-0">
                                                <thead>
                                                    <tr>
                                                        <th>Pipeline Name</th>
                                                        <th>Engine</th>
                                                        <th>Status</th>
                                                        <th>Data Processed</th>
                                                        <th>Runtime</th>
                                                        <th>Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="pipeline-table">
                                                    <!-- Dynamic content -->
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-bar-chart me-2"></i>
                                            Pipeline Performance
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            <canvas id="pipeline-metrics-chart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Data Sources and Destinations -->
                        <div class="row g-3">
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-inbox me-2"></i>
                                            Data Sources
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="list-group" id="data-sources">
                                            <!-- Dynamic content -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-send me-2"></i>
                                            Data Destinations
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="list-group" id="data-destinations">
                                            <!-- Dynamic content -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ML Interpretability Tab -->
                    <div class="tab-pane fade" id="ml-interpretability" role="tabpanel">
                        <!-- Interpretability Overview Cards -->
                        <div class="row g-3 mb-4">
                            <div class="col-xl-3 col-lg-6">
                                <div class="metric-card">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <div class="metric-label">Active Models</div>
                                            <div class="metric-value" id="active-models">0</div>
                                            <div class="metric-change positive">‚Üë Ready</div>
                                        </div>
                                        <i class="bi bi-cpu fs-1 text-primary opacity-25"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="metric-card">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <div class="metric-label">SHAP Analyses</div>
                                            <div class="metric-value" id="shap-analyses">0</div>
                                            <div class="metric-change positive">Generated</div>
                                        </div>
                                        <i class="bi bi-graph-up-arrow fs-1 text-success opacity-25"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="metric-card">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <div class="metric-label">LIME Explanations</div>
                                            <div class="metric-value" id="lime-explanations">0</div>
                                            <div class="metric-change positive">Available</div>
                                        </div>
                                        <i class="bi bi-lightbulb fs-1 text-warning opacity-25"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xl-3 col-lg-6">
                                <div class="metric-card">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <div>
                                            <div class="metric-label">Model Accuracy</div>
                                            <div class="metric-value" id="model-accuracy">95.2%</div>
                                            <div class="metric-change positive">‚Üë Excellent</div>
                                        </div>
                                        <i class="bi bi-bullseye fs-1 text-info opacity-25"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Model Management and Interpretation -->
                        <div class="row g-3 mb-4">
                            <div class="col-lg-8">
                                <div class="card h-100">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-brain me-2"></i>
                                            ML Model Interpretability
                                        </h5>
                                        <div class="btn-group">
                                            <button class="btn btn-primary btn-sm" onclick="showAddModelModal()">
                                                <i class="bi bi-plus"></i> Add Model
                                            </button>
                                            <button class="btn btn-success btn-sm" onclick="generateSHAPAnalysis()">
                                                <i class="bi bi-graph-up"></i> SHAP Analysis
                                            </button>
                                            <button class="btn btn-warning btn-sm" onclick="generateLIMEExplanation()">
                                                <i class="bi bi-lightbulb"></i> LIME Explanation
                                            </button>
                                        </div>
                                    </div>
                                    <div class="card-body p-0">
                                        <div class="table-responsive">
                                            <table class="table table-dark table-hover mb-0">
                                                <thead>
                                                    <tr>
                                                        <th>Model Name</th>
                                                        <th>Type</th>
                                                        <th>Framework</th>
                                                        <th>Accuracy</th>
                                                        <th>SHAP</th>
                                                        <th>LIME</th>
                                                        <th>Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="models-table">
                                                    <!-- Dynamic content -->
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-speedometer2 me-2"></i>
                                            Model Performance
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            <canvas id="model-performance-chart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- SHAP and LIME Visualizations -->
                        <div class="row g-3 mb-4">
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-graph-up-arrow me-2"></i>
                                            SHAP Feature Importance
                                        </h5>
                                        <select class="form-select form-select-sm w-auto" id="shap-model-select">
                                            <option value="">Select Model</option>
                                        </select>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            <canvas id="shap-chart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="card">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-lightbulb me-2"></i>
                                            LIME Local Explanation
                                        </h5>
                                        <select class="form-select form-select-sm w-auto" id="lime-model-select">
                                            <option value="">Select Model</option>
                                        </select>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            <canvas id="lime-chart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Prediction Analysis -->
                        <div class="row g-3">
                            <div class="col-lg-4">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-input-cursor me-2"></i>
                                            Input Features
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="feature-inputs">
                                            <!-- Dynamic feature inputs -->
                                        </div>
                                        <button class="btn btn-primary w-100 mt-3" onclick="makePrediction()">
                                            <i class="bi bi-play"></i> Make Prediction
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-target me-2"></i>
                                            Prediction Result
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center">
                                            <div class="prediction-value" id="prediction-result">
                                                <span class="text-muted">No prediction yet</span>
                                            </div>
                                            <div class="prediction-confidence mt-2" id="prediction-confidence">
                                                <small class="text-muted">Confidence: --</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-info-circle me-2"></i>
                                            Interpretation Summary
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="interpretation-summary">
                                            <p class="text-muted mb-0">Make a prediction to see interpretation</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Terminal Tab -->
                    <div class="tab-pane fade" id="terminal" role="tabpanel">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title mb-0">
                                    <i class="bi bi-terminal me-2"></i>
                                    Terminal
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="terminal mb-3" id="terminal-output">
                                    <div class="terminal-line">
                                        <span class="terminal-prompt">$</span>
                                        <span class="terminal-command">docker version</span>
                                    </div>
                                    <div class="terminal-line">
                                        <span class="terminal-output">Docker version 24.0.0, build 98fdcd7</span>
                                    </div>
                                </div>
                                <div class="input-group">
                                    <span class="input-group-text">$</span>
                                    <input type="text" id="terminal-input" class="form-control" placeholder="Enter command...">
                                    <button class="btn btn-primary" onclick="executeTerminalCommand()">
                                        <i class="bi bi-play"></i> Execute
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Microservices Tab -->
                    <div class="tab-pane fade" id="microservices" role="tabpanel">
                        <div class="row g-3">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-gear-wide-connected me-2"></i>
                                            Spring Boot Microservices Architecture
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="topology-container" id="microservices-topology">
                                            <!-- Microservices will be dynamically rendered here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-info-circle me-2"></i>
                                            Service Details
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="service-details">
                                            <div class="service-registry-item">
                                                <h6><span class="service-status healthy"></span>User Service</h6>
                                                <p><strong>Spring Boot:</strong> 3.2.0</p>
                                                <p><strong>Port:</strong> 8081</p>
                                                <p><strong>Health:</strong> UP</p>
                                                <p><strong>Endpoints:</strong> /users, /users/{id}</p>
                                            </div>
                                            <div class="service-registry-item">
                                                <h6><span class="service-status healthy"></span>Order Service</h6>
                                                <p><strong>Spring Boot:</strong> 3.2.0</p>
                                                <p><strong>Port:</strong> 8082</p>
                                                <p><strong>Health:</strong> UP</p>
                                                <p><strong>Endpoints:</strong> /orders, /orders/{id}</p>
                                            </div>
                                            <div class="service-registry-item">
                                                <h6><span class="service-status healthy"></span>Payment Service</h6>
                                                <p><strong>Spring Boot:</strong> 3.2.0</p>
                                                <p><strong>Port:</strong> 8083</p>
                                                <p><strong>Health:</strong> UP</p>
                                                <p><strong>Endpoints:</strong> /payments, /payments/{id}</p>
                                            </div>
                                            <div class="service-registry-item">
                                                <h6><span class="service-status healthy"></span>Notification Service</h6>
                                                <p><strong>Spring Boot:</strong> 3.2.0</p>
                                                <p><strong>Port:</strong> 8084</p>
                                                <p><strong>Health:</strong> UP</p>
                                                <p><strong>Endpoints:</strong> /notifications</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-bar-chart me-2"></i>
                                            Service Metrics
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-6">
                                                <div class="metric-card">
                                                    <div class="metric-value">4</div>
                                                    <div class="metric-label">Active Services</div>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="metric-card">
                                                    <div class="metric-value">156</div>
                                                    <div class="metric-label">Requests/min</div>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="metric-card">
                                                    <div class="metric-value">2.3s</div>
                                                    <div class="metric-label">Avg Response</div>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="metric-card">
                                                    <div class="metric-value">99.9%</div>
                                                    <div class="metric-label">Uptime</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Service Discovery Tab -->
                    <div class="tab-pane fade" id="service-discovery" role="tabpanel">
                        <div class="row g-3">
                            <div class="col-md-8">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-search me-2"></i>
                                            Eureka Service Registry
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-dark">
                                                <thead>
                                                    <tr>
                                                        <th>Service Name</th>
                                                        <th>Instance ID</th>
                                                        <th>Status</th>
                                                        <th>Host</th>
                                                        <th>Port</th>
                                                        <th>Last Heartbeat</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="service-registry-table">
                                                    <tr>
                                                        <td>USER-SERVICE</td>
                                                        <td>user-service-1</td>
                                                        <td><span class="badge status-running">UP</span></td>
                                                        <td>192.168.1.10</td>
                                                        <td>8081</td>
                                                        <td>2024-01-15 14:30:25</td>
                                                    </tr>
                                                    <tr>
                                                        <td>ORDER-SERVICE</td>
                                                        <td>order-service-1</td>
                                                        <td><span class="badge status-running">UP</span></td>
                                                        <td>192.168.1.11</td>
                                                        <td>8082</td>
                                                        <td>2024-01-15 14:30:23</td>
                                                    </tr>
                                                    <tr>
                                                        <td>PAYMENT-SERVICE</td>
                                                        <td>payment-service-1</td>
                                                        <td><span class="badge status-running">UP</span></td>
                                                        <td>192.168.1.12</td>
                                                        <td>8083</td>
                                                        <td>2024-01-15 14:30:21</td>
                                                    </tr>
                                                    <tr>
                                                        <td>NOTIFICATION-SERVICE</td>
                                                        <td>notification-service-1</td>
                                                        <td><span class="badge status-running">UP</span></td>
                                                        <td>192.168.1.13</td>
                                                        <td>8084</td>
                                                        <td>2024-01-15 14:30:19</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-gear me-2"></i>
                                            Discovery Config
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <strong>Eureka Server:</strong><br>
                                            <code>http://eureka-server:8761</code>
                                        </div>
                                        <div class="mb-3">
                                            <strong>Heartbeat Interval:</strong><br>
                                            <code>30s</code>
                                        </div>
                                        <div class="mb-3">
                                            <strong>Registry Fetch Interval:</strong><br>
                                            <code>30s</code>
                                        </div>
                                        <div class="mb-3">
                                            <strong>Renewal Threshold:</strong><br>
                                            <code>0.85</code>
                                        </div>
                                        <div class="mb-3">
                                            <strong>Self Preservation:</strong><br>
                                            <code>Enabled</code>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- API Gateway Tab -->
                    <div class="tab-pane fade" id="api-gateway" role="tabpanel">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-router me-2"></i>
                                            NGINX Load Balancer
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="gateway-route">
                                            <h6><i class="bi bi-arrow-right me-2"></i>Route: /api/users/*</h6>
                                            <p><strong>Upstream:</strong> user-service-pool</p>
                                            <p><strong>Load Balancing:</strong> Round Robin</p>
                                            <p><strong>Health Check:</strong> /actuator/health</p>
                                        </div>
                                        <div class="gateway-route">
                                            <h6><i class="bi bi-arrow-right me-2"></i>Route: /api/orders/*</h6>
                                            <p><strong>Upstream:</strong> order-service-pool</p>
                                            <p><strong>Load Balancing:</strong> Least Connections</p>
                                            <p><strong>Health Check:</strong> /actuator/health</p>
                                        </div>
                                        <div class="gateway-route">
                                            <h6><i class="bi bi-arrow-right me-2"></i>Route: /api/payments/*</h6>
                                            <p><strong>Upstream:</strong> payment-service-pool</p>
                                            <p><strong>Load Balancing:</strong> IP Hash</p>
                                            <p><strong>Health Check:</strong> /actuator/health</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-cloud me-2"></i>
                                            AWS API Gateway
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="gateway-route">
                                            <h6><i class="bi bi-arrow-right me-2"></i>Stage: Production</h6>
                                            <p><strong>Endpoint:</strong> https://api.example.com/prod</p>
                                            <p><strong>Throttling:</strong> 10000 req/sec</p>
                                            <p><strong>Authentication:</strong> API Key + IAM</p>
                                        </div>
                                        <div class="gateway-route">
                                            <h6><i class="bi bi-arrow-right me-2"></i>Stage: Development</h6>
                                            <p><strong>Endpoint:</strong> https://api.example.com/dev</p>
                                            <p><strong>Throttling:</strong> 1000 req/sec</p>
                                            <p><strong>Authentication:</strong> API Key</p>
                                        </div>
                                        <div class="gateway-route">
                                            <h6><i class="bi bi-arrow-right me-2"></i>Custom Domain</h6>
                                            <p><strong>Domain:</strong> api.mycompany.com</p>
                                            <p><strong>Certificate:</strong> ACM Certificate</p>
                                            <p><strong>Base Path:</strong> /v1</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-diagram-2 me-2"></i>
                                            Request Distribution
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-3">
                                                <div class="metric-card">
                                                    <div class="metric-value">2.4k</div>
                                                    <div class="metric-label">Total Requests</div>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="metric-card">
                                                    <div class="metric-value">156ms</div>
                                                    <div class="metric-label">Avg Latency</div>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="metric-card">
                                                    <div class="metric-value">99.8%</div>
                                                    <div class="metric-label">Success Rate</div>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="metric-card">
                                                    <div class="metric-value">12</div>
                                                    <div class="metric-label">Error Count</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chart-container mt-3">
                                            <canvas id="gateway-requests-chart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Message Queues Tab -->
                    <div class="tab-pane fade" id="message-queues" role="tabpanel">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-arrow-repeat me-2"></i>
                                            RabbitMQ
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="queue-visualization">
                                            <h6>Exchange: order.exchange</h6>
                                            <p><strong>Type:</strong> Direct</p>
                                            <p><strong>Queues:</strong> order.created, order.updated, order.cancelled</p>
                                            <div class="mt-3">
                                                <h6>Messages in Queue:</h6>
                                                <div class="queue-message">Order #1001 Created</div>
                                                <div class="queue-message">Order #1002 Updated</div>
                                                <div class="queue-message">Order #1003 Cancelled</div>
                                            </div>
                                        </div>
                                        <div class="queue-visualization">
                                            <h6>Exchange: payment.exchange</h6>
                                            <p><strong>Type:</strong> Topic</p>
                                            <p><strong>Queues:</strong> payment.processed, payment.failed</p>
                                            <div class="mt-3">
                                                <h6>Messages in Queue:</h6>
                                                <div class="queue-message">Payment #2001 Processed</div>
                                                <div class="queue-message">Payment #2002 Failed</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-layers me-2"></i>
                                            Apache Kafka
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="queue-visualization">
                                            <h6>Topic: user-events</h6>
                                            <p><strong>Partitions:</strong> 3</p>
                                            <p><strong>Replication:</strong> 3</p>
                                            <p><strong>Consumers:</strong> notification-service, analytics-service</p>
                                            <div class="mt-3">
                                                <h6>Recent Messages:</h6>
                                                <div class="queue-message">User registered: user123</div>
                                                <div class="queue-message">User updated: user456</div>
                                                <div class="queue-message">User deleted: user789</div>
                                            </div>
                                        </div>
                                        <div class="queue-visualization">
                                            <h6>Topic: order-events</h6>
                                            <p><strong>Partitions:</strong> 5</p>
                                            <p><strong>Replication:</strong> 3</p>
                                            <p><strong>Consumers:</strong> inventory-service, shipping-service</p>
                                            <div class="mt-3">
                                                <h6>Recent Messages:</h6>
                                                <div class="queue-message">Order placed: order101</div>
                                                <div class="queue-message">Order shipped: order102</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-arrow-left-right me-2"></i>
                                            Message Flow
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-3">
                                                <div class="metric-card">
                                                    <div class="metric-value">1.2k</div>
                                                    <div class="metric-label">Messages/sec</div>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="metric-card">
                                                    <div class="metric-value">45ms</div>
                                                    <div class="metric-label">Avg Processing Time</div>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="metric-card">
                                                    <div class="metric-value">12</div>
                                                    <div class="metric-label">Active Consumers</div>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="metric-card">
                                                    <div class="metric-value">3</div>
                                                    <div class="metric-label">DLQ Messages</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chart-container mt-3">
                                            <canvas id="message-flow-chart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Monitoring Stack Tab -->
                    <div class="tab-pane fade" id="monitoring-stack" role="tabpanel">
                        <div class="row g-3">
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-bar-chart me-2"></i>
                                            Prometheus Metrics
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="metric-card mb-3">
                                            <div class="metric-value">2.4k</div>
                                            <div class="metric-label">http_requests_total</div>
                                        </div>
                                        <div class="metric-card mb-3">
                                            <div class="metric-value">156ms</div>
                                            <div class="metric-label">http_request_duration</div>
                                        </div>
                                        <div class="metric-card mb-3">
                                            <div class="metric-value">85%</div>
                                            <div class="metric-label">jvm_memory_used</div>
                                        </div>
                                        <div class="metric-card mb-3">
                                            <div class="metric-value">12</div>
                                            <div class="metric-label">database_connections</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-graph-up me-2"></i>
                                            Grafana Dashboard
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            <canvas id="grafana-dashboard-chart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-journal-text me-2"></i>
                                            ELK Stack Logs
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div style="height: 300px; overflow-y: auto;">
                                            <div class="log-entry info">
                                                <strong>2024-01-15 14:30:25</strong> [INFO] user-service - User created successfully: user123
                                            </div>
                                            <div class="log-entry warning">
                                                <strong>2024-01-15 14:30:20</strong> [WARN] order-service - High memory usage detected: 85%
                                            </div>
                                            <div class="log-entry error">
                                                <strong>2024-01-15 14:30:15</strong> [ERROR] payment-service - Payment processing failed: insufficient funds
                                            </div>
                                            <div class="log-entry info">
                                                <strong>2024-01-15 14:30:10</strong> [INFO] notification-service - Email sent successfully to user@example.com
                                            </div>
                                            <div class="log-entry debug">
                                                <strong>2024-01-15 14:30:05</strong> [DEBUG] api-gateway - Request routed to user-service
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-diagram-3 me-2"></i>
                                            Distributed Tracing
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div style="height: 300px; overflow-y: auto;">
                                            <div class="trace-step">
                                                <strong>API Gateway</strong>
                                                <span class="trace-duration">2ms</span>
                                                <br><small>Request received: POST /api/orders</small>
                                            </div>
                                            <div class="trace-step">
                                                <strong>Order Service</strong>
                                                <span class="trace-duration">45ms</span>
                                                <br><small>Processing order creation</small>
                                            </div>
                                            <div class="trace-step">
                                                <strong>Payment Service</strong>
                                                <span class="trace-duration">120ms</span>
                                                <br><small>Processing payment</small>
                                            </div>
                                            <div class="trace-step">
                                                <strong>Notification Service</strong>
                                                <span class="trace-duration">25ms</span>
                                                <br><small>Sending confirmation email</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-exclamation-triangle me-2"></i>
                                            Alerts & Notifications
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="alert-item">
                                            <h6><i class="bi bi-exclamation-circle me-2"></i>Critical: High Memory Usage</h6>
                                            <p>Payment service memory usage is at 95%. Consider scaling up.</p>
                                            <small>Triggered: 2024-01-15 14:25:00</small>
                                        </div>
                                        <div class="alert-item warning">
                                            <h6><i class="bi bi-exclamation-triangle me-2"></i>Warning: Slow Response Time</h6>
                                            <p>Order service response time increased to 2.5s. Above threshold of 2s.</p>
                                            <small>Triggered: 2024-01-15 14:20:00</small>
                                        </div>
                                        <div class="alert-item info">
                                            <h6><i class="bi bi-info-circle me-2"></i>Info: Service Scaled</h6>
                                            <p>User service successfully scaled from 2 to 3 instances.</p>
                                            <small>Triggered: 2024-01-15 14:15:00</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Testing Frameworks Tab -->
                    <div class="tab-pane fade" id="testing" role="tabpanel">
                        <div class="row g-3">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title mb-0">
                                            <i class="bi bi-check2-square me-2"></i>
                                            Testing Framework Dashboard
                                        </h4>
                                    </div>
                                    <div class="card-body">
                                        <div class="row g-3">
                                            <div class="col-md-4">
                                                <div class="test-framework jest-framework">
                                                    <h5 class="text-white">
                                                        <i class="bi bi-gear-wide-connected me-2"></i>
                                                        Jest Testing
                                                    </h5>
                                                    <p class="mb-3">Unit testing framework for JavaScript</p>
                                                    <button class="btn btn-outline-light btn-sm me-2" onclick="runJestTests()">
                                                        <i class="bi bi-play-circle me-1"></i>Run Tests
                                                    </button>
                                                    <button class="btn btn-outline-light btn-sm" onclick="generateJestReport()">
                                                        <i class="bi bi-file-text me-1"></i>Report
                                                    </button>
                                                    <div class="mt-3">
                                                        <small>Tests: <span id="jest-test-count">0</span></small><br>
                                                        <small>Passed: <span id="jest-passed" class="text-success">0</span></small><br>
                                                        <small>Failed: <span id="jest-failed" class="text-danger">0</span></small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="test-framework mocha-framework">
                                                    <h5 class="text-white">
                                                        <i class="bi bi-cup-hot me-2"></i>
                                                        Mocha Testing
                                                    </h5>
                                                    <p class="mb-3">BDD/TDD testing framework with Chai</p>
                                                    <button class="btn btn-outline-light btn-sm me-2" onclick="runMochaTests()">
                                                        <i class="bi bi-play-circle me-1"></i>Run Tests
                                                    </button>
                                                    <button class="btn btn-outline-light btn-sm" onclick="generateMochaReport()">
                                                        <i class="bi bi-file-text me-1"></i>Report
                                                    </button>
                                                    <div class="mt-3">
                                                        <small>Tests: <span id="mocha-test-count">0</span></small><br>
                                                        <small>Passed: <span id="mocha-passed" class="text-success">0</span></small><br>
                                                        <small>Failed: <span id="mocha-failed" class="text-danger">0</span></small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="test-framework cypress-framework">
                                                    <h5 class="text-white">
                                                        <i class="bi bi-window me-2"></i>
                                                        Cypress E2E
                                                    </h5>
                                                    <p class="mb-3">End-to-end testing framework</p>
                                                    <button class="btn btn-outline-light btn-sm me-2" onclick="runCypressTests()">
                                                        <i class="bi bi-play-circle me-1"></i>Run Tests
                                                    </button>
                                                    <button class="btn btn-outline-light btn-sm" onclick="openCypressRunner()">
                                                        <i class="bi bi-display me-1"></i>Runner
                                                    </button>
                                                    <div class="mt-3">
                                                        <small>Tests: <span id="cypress-test-count">0</span></small><br>
                                                        <small>Passed: <span id="cypress-passed" class="text-success">0</span></small><br>
                                                        <small>Failed: <span id="cypress-failed" class="text-danger">0</span></small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-graph-up me-2"></i>
                                            Code Coverage
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <div class="d-flex justify-content-between">
                                                <span>Statements</span>
                                                <span id="coverage-statements">85%</span>
                                            </div>
                                            <div class="coverage-bar">
                                                <div class="coverage-fill" style="width: 85%"></div>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <div class="d-flex justify-content-between">
                                                <span>Branches</span>
                                                <span id="coverage-branches">78%</span>
                                            </div>
                                            <div class="coverage-bar">
                                                <div class="coverage-fill" style="width: 78%"></div>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <div class="d-flex justify-content-between">
                                                <span>Functions</span>
                                                <span id="coverage-functions">92%</span>
                                            </div>
                                            <div class="coverage-bar">
                                                <div class="coverage-fill" style="width: 92%"></div>
                                            </div>
                                        </div>
                                        <div class="mb-3">
                                            <div class="d-flex justify-content-between">
                                                <span>Lines</span>
                                                <span id="coverage-lines">88%</span>
                                            </div>
                                            <div class="coverage-bar">
                                                <div class="coverage-fill" style="width: 88%"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-speedometer2 me-2"></i>
                                            Test Performance
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            <canvas id="test-performance-chart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-list-check me-2"></i>
                                            Test Results
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="test-results">
                                            <div class="test-result test-pass">
                                                ‚úì UserService.createUser() should create user successfully
                                            </div>
                                            <div class="test-result test-pass">
                                                ‚úì OrderService.processOrder() should handle valid orders
                                            </div>
                                            <div class="test-result test-fail">
                                                ‚úó PaymentService.processPayment() should handle invalid cards
                                                <br><small>Expected: rejected, Actual: pending</small>
                                            </div>
                                            <div class="test-result test-pass">
                                                ‚úì NotificationService.sendEmail() should send confirmation
                                            </div>
                                            <div class="test-result test-pending">
                                                ‚óã InventoryService.updateStock() pending implementation
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-terminal me-2"></i>
                                            Test Console
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="test-console" id="test-console">
                                            <div class="terminal-prompt">$</div>
                                            <div class="terminal-output">Test suite initialized...</div>
                                            <div class="terminal-output">Running Jest unit tests...</div>
                                            <div class="terminal-output">‚úì 15 tests passed</div>
                                            <div class="terminal-output">‚úó 2 tests failed</div>
                                            <div class="terminal-output">‚óã 1 test pending</div>
                                            <div class="terminal-output">Test execution completed in 2.34s</div>
                                            <div class="terminal-prompt">$</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Backend Architecture Tab -->
                    <div class="tab-pane fade" id="backend" role="tabpanel">
                        <div class="row g-3">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title mb-0">
                                            <i class="bi bi-server me-2"></i>
                                            Backend Architecture Overview
                                        </h4>
                                    </div>
                                    <div class="card-body">
                                        <div class="row g-3">
                                            <div class="col-12">
                                                <div class="architecture-layer backend-layer">
                                                    <h5 class="text-white mb-3">
                                                        <i class="bi bi-gear-wide-connected me-2"></i>
                                                        Spring Boot Application Layer
                                                    </h5>
                                                    <div class="row g-2">
                                                        <div class="col-md-3">
                                                            <div class="component-box" onclick="showComponentDetails('controllers')">
                                                                <i class="bi bi-controller text-primary mb-2 fs-4"></i>
                                                                <h6>Controllers</h6>
                                                                <small>REST endpoints</small>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="component-box" onclick="showComponentDetails('services')">
                                                                <i class="bi bi-gear text-success mb-2 fs-4"></i>
                                                                <h6>Services</h6>
                                                                <small>Business logic</small>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="component-box" onclick="showComponentDetails('repositories')">
                                                                <i class="bi bi-database text-warning mb-2 fs-4"></i>
                                                                <h6>Repositories</h6>
                                                                <small>Data access</small>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="component-box" onclick="showComponentDetails('models')">
                                                                <i class="bi bi-box text-info mb-2 fs-4"></i>
                                                                <h6>Models</h6>
                                                                <small>Data entities</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="data-flow-arrow">
                                                    <i class="bi bi-arrow-down"></i>
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="architecture-layer database-layer">
                                                    <h5 class="text-white mb-3">
                                                        <i class="bi bi-database me-2"></i>
                                                        Database & Persistence Layer
                                                    </h5>
                                                    <div class="row g-2">
                                                        <div class="col-md-4">
                                                            <div class="component-box" onclick="showComponentDetails('postgresql')">
                                                                <i class="bi bi-database-fill text-primary mb-2 fs-4"></i>
                                                                <h6>PostgreSQL</h6>
                                                                <small>Primary database</small>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="component-box" onclick="showComponentDetails('redis')">
                                                                <i class="bi bi-lightning text-danger mb-2 fs-4"></i>
                                                                <h6>Redis Cache</h6>
                                                                <small>In-memory store</small>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="component-box" onclick="showComponentDetails('elasticsearch')">
                                                                <i class="bi bi-search text-warning mb-2 fs-4"></i>
                                                                <h6>Elasticsearch</h6>
                                                                <small>Search engine</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-code-slash me-2"></i>
                                            API Endpoints
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div style="height: 400px; overflow-y: auto;">
                                            <div class="api-endpoint">
                                                <span class="api-method method-get">GET</span>
                                                <span>/api/users</span>
                                                <br><small>Retrieve all users</small>
                                            </div>
                                            <div class="api-endpoint">
                                                <span class="api-method method-post">POST</span>
                                                <span>/api/users</span>
                                                <br><small>Create new user</small>
                                            </div>
                                            <div class="api-endpoint">
                                                <span class="api-method method-get">GET</span>
                                                <span>/api/users/{id}</span>
                                                <br><small>Get user by ID</small>
                                            </div>
                                            <div class="api-endpoint">
                                                <span class="api-method method-put">PUT</span>
                                                <span>/api/users/{id}</span>
                                                <br><small>Update user</small>
                                            </div>
                                            <div class="api-endpoint">
                                                <span class="api-method method-delete">DELETE</span>
                                                <span>/api/users/{id}</span>
                                                <br><small>Delete user</small>
                                            </div>
                                            <div class="api-endpoint">
                                                <span class="api-method method-get">GET</span>
                                                <span>/api/orders</span>
                                                <br><small>Retrieve orders</small>
                                            </div>
                                            <div class="api-endpoint">
                                                <span class="api-method method-post">POST</span>
                                                <span>/api/orders</span>
                                                <br><small>Create new order</small>
                                            </div>
                                            <div class="api-endpoint">
                                                <span class="api-method method-get">GET</span>
                                                <span>/api/products</span>
                                                <br><small>Get product catalog</small>
                                            </div>
                                            <div class="api-endpoint">
                                                <span class="api-method method-post">POST</span>
                                                <span>/api/payments</span>
                                                <br><small>Process payment</small>
                                            </div>
                                            <div class="api-endpoint">
                                                <span class="api-method method-get">GET</span>
                                                <span>/api/health</span>
                                                <br><small>Health check endpoint</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-stack me-2"></i>
                                            Technology Stack
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row g-2">
                                            <div class="col-6">
                                                <div class="tech-stack-item">
                                                    <i class="bi bi-gear-wide-connected text-success mb-2 fs-4"></i>
                                                    <h6>Spring Boot</h6>
                                                    <small>Framework</small>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="tech-stack-item">
                                                    <i class="bi bi-shield-check text-primary mb-2 fs-4"></i>
                                                    <h6>Spring Security</h6>
                                                    <small>Authentication</small>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="tech-stack-item">
                                                    <i class="bi bi-database text-warning mb-2 fs-4"></i>
                                                    <h6>Spring Data JPA</h6>
                                                    <small>ORM</small>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="tech-stack-item">
                                                    <i class="bi bi-cloud text-info mb-2 fs-4"></i>
                                                    <h6>Spring Cloud</h6>
                                                    <small>Microservices</small>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="tech-stack-item">
                                                    <i class="bi bi-box text-danger mb-2 fs-4"></i>
                                                    <h6>Docker</h6>
                                                    <small>Containerization</small>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="tech-stack-item">
                                                    <i class="bi bi-diagram-3 text-success mb-2 fs-4"></i>
                                                    <h6>Kubernetes</h6>
                                                    <small>Orchestration</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-speedometer2 me-2"></i>
                                            Backend Performance Metrics
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row g-3">
                                            <div class="col-md-3">
                                                <div class="performance-metric">
                                                    <h3 class="text-success" id="backend-response-time">85ms</h3>
                                                    <small>Avg Response Time</small>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="performance-metric">
                                                    <h3 class="text-primary" id="backend-throughput">2.4k/s</h3>
                                                    <small>Requests/Second</small>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="performance-metric">
                                                    <h3 class="text-warning" id="backend-cpu-usage">65%</h3>
                                                    <small>CPU Usage</small>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="performance-metric">
                                                    <h3 class="text-info" id="backend-memory-usage">78%</h3>
                                                    <small>Memory Usage</small>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mt-3">
                                            <div class="chart-container">
                                                <canvas id="backend-performance-chart"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-arrow-repeat me-2"></i>
                                            Deployment Pipeline
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="deployment-pipeline">
                                            <div class="row g-2">
                                                <div class="col-md-2">
                                                    <div class="pipeline-stage">
                                                        <span class="status-indicator status-healthy"></span>
                                                        <strong>Source</strong>
                                                        <br><small>Git Repository</small>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="pipeline-stage">
                                                        <span class="status-indicator status-healthy"></span>
                                                        <strong>Build</strong>
                                                        <br><small>Maven/Gradle</small>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="pipeline-stage">
                                                        <span class="status-indicator status-loading"></span>
                                                        <strong>Test</strong>
                                                        <br><small>Unit & Integration</small>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="pipeline-stage">
                                                        <span class="status-indicator status-warning"></span>
                                                        <strong>Security</strong>
                                                        <br><small>Vulnerability Scan</small>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="pipeline-stage">
                                                        <span class="status-indicator status-healthy"></span>
                                                        <strong>Package</strong>
                                                        <br><small>Docker Image</small>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="pipeline-stage">
                                                        <span class="status-indicator status-healthy"></span>
                                                        <strong>Deploy</strong>
                                                        <br><small>Kubernetes</small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Frontend Architecture Tab -->
                    <div class="tab-pane fade" id="frontend" role="tabpanel">
                        <div class="row g-3">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title mb-0">
                                            <i class="bi bi-window me-2"></i>
                                            Frontend Architecture Overview
                                        </h4>
                                    </div>
                                    <div class="card-body">
                                        <div class="row g-3">
                                            <div class="col-12">
                                                <div class="architecture-layer frontend-layer">
                                                    <h5 class="text-white mb-3">
                                                        <i class="bi bi-layout-text-window me-2"></i>
                                                        Presentation Layer
                                                    </h5>
                                                    <div class="row g-2">
                                                        <div class="col-md-3">
                                                            <div class="component-box" onclick="showFrontendDetails('components')">
                                                                <i class="bi bi-puzzle text-primary mb-2 fs-4"></i>
                                                                <h6>Components</h6>
                                                                <small>React/Vue/Angular</small>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="component-box" onclick="showFrontendDetails('routing')">
                                                                <i class="bi bi-signpost text-success mb-2 fs-4"></i>
                                                                <h6>Routing</h6>
                                                                <small>Navigation system</small>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="component-box" onclick="showFrontendDetails('state')">
                                                                <i class="bi bi-diagram-2 text-warning mb-2 fs-4"></i>
                                                                <h6>State Management</h6>
                                                                <small>Redux/Vuex/NgRx</small>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="component-box" onclick="showFrontendDetails('api')">
                                                                <i class="bi bi-cloud-arrow-up text-info mb-2 fs-4"></i>
                                                                <h6>API Layer</h6>
                                                                <small>HTTP clients</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="data-flow-arrow">
                                                    <i class="bi bi-arrow-left-right"></i>
                                                </div>
                                            </div>
                                            <div class="col-12">
                                                <div class="architecture-layer">
                                                    <h5 class="text-white mb-3">
                                                        <i class="bi bi-tools me-2"></i>
                                                        Build & Development Tools
                                                    </h5>
                                                    <div class="row g-2">
                                                        <div class="col-md-4">
                                                            <div class="component-box" onclick="showFrontendDetails('webpack')">
                                                                <i class="bi bi-gear-wide text-primary mb-2 fs-4"></i>
                                                                <h6>Webpack/Vite</h6>
                                                                <small>Module bundler</small>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="component-box" onclick="showFrontendDetails('babel')">
                                                                <i class="bi bi-translate text-success mb-2 fs-4"></i>
                                                                <h6>Babel/TypeScript</h6>
                                                                <small>Transpilation</small>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="component-box" onclick="showFrontendDetails('eslint')">
                                                                <i class="bi bi-check-circle text-warning mb-2 fs-4"></i>
                                                                <h6>ESLint/Prettier</h6>
                                                                <small>Code quality</small>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-file-code me-2"></i>
                                            Component Code Example
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="code-editor" id="frontend-code-editor">
// React Component Example
import React, { useState, useEffect } from 'react';
import { useDispatch, useSelector } from 'react-redux';
import { fetchUsers } from '../store/userSlice';

const UserList = () => {
  const dispatch = useDispatch();
  const { users, loading, error } = useSelector(state => state.users);
  
  useEffect(() => {
    dispatch(fetchUsers());
  }, [dispatch]);

  if (loading) return &lt;div&gt;Loading...&lt;/div&gt;;
  if (error) return &lt;div&gt;Error: {error}&lt;/div&gt;;

  return (
    &lt;div className="user-list"&gt;
      &lt;h2&gt;Users&lt;/h2&gt;
      {users.map(user =&gt; (
        &lt;div key={user.id} className="user-card"&gt;
          &lt;h3&gt;{user.name}&lt;/h3&gt;
          &lt;p&gt;{user.email}&lt;/p&gt;
        &lt;/div&gt;
      ))}
    &lt;/div&gt;
  );
};

export default UserList;
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-layers me-2"></i>
                                            Frontend Technologies
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row g-2">
                                            <div class="col-6">
                                                <div class="tech-stack-item">
                                                    <i class="bi bi-react text-primary mb-2 fs-4"></i>
                                                    <h6>React</h6>
                                                    <small>UI Library</small>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="tech-stack-item">
                                                    <i class="bi bi-bootstrap text-success mb-2 fs-4"></i>
                                                    <h6>Bootstrap</h6>
                                                    <small>CSS Framework</small>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="tech-stack-item">
                                                    <i class="bi bi-diagram-2 text-warning mb-2 fs-4"></i>
                                                    <h6>Redux</h6>
                                                    <small>State Management</small>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="tech-stack-item">
                                                    <i class="bi bi-code-square text-info mb-2 fs-4"></i>
                                                    <h6>TypeScript</h6>
                                                    <small>Type Safety</small>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="tech-stack-item">
                                                    <i class="bi bi-cloud-arrow-up text-danger mb-2 fs-4"></i>
                                                    <h6>Axios</h6>
                                                    <small>HTTP Client</small>
                                                </div>
                                            </div>
                                            <div class="col-6">
                                                <div class="tech-stack-item">
                                                    <i class="bi bi-check2-square text-success mb-2 fs-4"></i>
                                                    <h6>Jest/RTL</h6>
                                                    <small>Testing</small>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-graph-up me-2"></i>
                                            Frontend Performance Metrics
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row g-3">
                                            <div class="col-md-3">
                                                <div class="performance-metric">
                                                    <h3 class="text-success" id="frontend-load-time">1.2s</h3>
                                                    <small>Page Load Time</small>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="performance-metric">
                                                    <h3 class="text-primary" id="frontend-bundle-size">245KB</h3>
                                                    <small>Bundle Size</small>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="performance-metric">
                                                    <h3 class="text-warning" id="frontend-lighthouse">92</h3>
                                                    <small>Lighthouse Score</small>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="performance-metric">
                                                    <h3 class="text-info" id="frontend-components">156</h3>
                                                    <small>Total Components</small>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mt-3">
                                            <div class="chart-container">
                                                <canvas id="frontend-performance-chart"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="bi bi-rocket me-2"></i>
                                            Frontend Build Pipeline
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="deployment-pipeline">
                                            <div class="row g-2">
                                                <div class="col-md-2">
                                                    <div class="pipeline-stage">
                                                        <span class="status-indicator status-healthy"></span>
                                                        <strong>Source</strong>
                                                        <br><small>Git Repository</small>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="pipeline-stage">
                                                        <span class="status-indicator status-healthy"></span>
                                                        <strong>Install</strong>
                                                        <br><small>npm/yarn</small>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="pipeline-stage">
                                                        <span class="status-indicator status-healthy"></span>
                                                        <strong>Lint</strong>
                                                        <br><small>ESLint/Prettier</small>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="pipeline-stage">
                                                        <span class="status-indicator status-loading"></span>
                                                        <strong>Test</strong>
                                                        <br><small>Jest/Cypress</small>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="pipeline-stage">
                                                        <span class="status-indicator status-healthy"></span>
                                                        <strong>Build</strong>
                                                        <br><small>Webpack/Vite</small>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div class="pipeline-stage">
                                                        <span class="status-indicator status-healthy"></span>
                                                        <strong>Deploy</strong>
                                                        <br><small>CDN/Nginx</small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Container Modal -->
    <div class="modal fade" id="createContainerModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="bi bi-box me-2"></i>
                        Create New Container
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="createContainerForm">
                        <div class="mb-3">
                            <label for="containerName" class="form-label">Container Name:</label>
                            <input type="text" class="form-control" id="containerName" required>
                        </div>
                        <div class="mb-3">
                            <label for="containerImage" class="form-label">Image:</label>
                            <select class="form-select" id="containerImage" required>
                                <option value="nginx">nginx</option>
                                <option value="apache">apache</option>
                                <option value="redis">redis</option>
                                <option value="postgres">postgres</option>
                                <option value="mysql">mysql</option>
                                <option value="node">node</option>
                                <option value="python">python</option>
                                <option value="ubuntu">ubuntu</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="containerPort" class="form-label">Port:</label>
                            <input type="number" class="form-control" id="containerPort" value="8080">
                        </div>
                        <div class="mb-3">
                            <label for="containerMemory" class="form-label">Memory Limit (MB):</label>
                            <input type="number" class="form-control" id="containerMemory" value="512">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Create Container</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Pod Modal -->
    <div class="modal fade" id="createPodModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="bi bi-rocket me-2"></i>
                        Create New Pod
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="createPodForm">
                        <div class="mb-3">
                            <label for="podName" class="form-label">Pod Name:</label>
                            <input type="text" class="form-control" id="podName" required>
                        </div>
                        <div class="mb-3">
                            <label for="podImage" class="form-label">Image:</label>
                            <select class="form-select" id="podImage" required>
                                <option value="nginx">nginx</option>
                                <option value="apache">apache</option>
                                <option value="redis">redis</option>
                                <option value="postgres">postgres</option>
                                <option value="mysql">mysql</option>
                                <option value="node">node</option>
                                <option value="python">python</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="podReplicas" class="form-label">Replicas:</label>
                            <input type="number" class="form-control" id="podReplicas" value="1" min="1" max="10">
                        </div>
                        <div class="mb-3">
                            <label for="podNamespace" class="form-label">Namespace:</label>
                            <input type="text" class="form-control" id="podNamespace" value="default">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Create Pod</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Deployment Modal -->
    <div class="modal fade" id="createDeploymentModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="bi bi-gear me-2"></i>
                        Create New Deployment
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="createDeploymentForm">
                        <div class="mb-3">
                            <label for="deploymentName" class="form-label">Deployment Name:</label>
                            <input type="text" class="form-control" id="deploymentName" required>
                        </div>
                        <div class="mb-3">
                            <label for="deploymentImage" class="form-label">Image:</label>
                            <select class="form-select" id="deploymentImage" required>
                                <option value="nginx">nginx</option>
                                <option value="apache">apache</option>
                                <option value="redis">redis</option>
                                <option value="postgres">postgres</option>
                                <option value="mysql">mysql</option>
                                <option value="node">node</option>
                                <option value="python">python</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="deploymentReplicas" class="form-label">Replicas:</label>
                            <input type="number" class="form-control" id="deploymentReplicas" value="3" min="1" max="10">
                        </div>
                        <div class="mb-3">
                            <label for="deploymentPort" class="form-label">Port:</label>
                            <input type="number" class="form-control" id="deploymentPort" value="80">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Create Deployment</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Service Modal -->
    <div class="modal fade" id="createServiceModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="bi bi-link-45deg me-2"></i>
                        Create New Service
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="createServiceForm">
                        <div class="mb-3">
                            <label for="serviceName" class="form-label">Service Name:</label>
                            <input type="text" class="form-control" id="serviceName" required>
                        </div>
                        <div class="mb-3">
                            <label for="serviceType" class="form-label">Service Type:</label>
                            <select class="form-select" id="serviceType" required>
                                <option value="ClusterIP">ClusterIP</option>
                                <option value="NodePort">NodePort</option>
                                <option value="LoadBalancer">LoadBalancer</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="servicePort" class="form-label">Port:</label>
                            <input type="number" class="form-control" id="servicePort" value="80">
                        </div>
                        <div class="mb-3">
                            <label for="serviceTargetPort" class="form-label">Target Port:</label>
                            <input type="number" class="form-control" id="serviceTargetPort" value="8080">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Create Service</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Pipeline Modal -->
    <div class="modal fade" id="createPipelineModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="bi bi-diagram-2 me-2"></i>
                        Create Data Pipeline
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="createPipelineForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="pipelineName" class="form-label">Pipeline Name:</label>
                                    <input type="text" class="form-control" id="pipelineName" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="pipelineEngine" class="form-label">Processing Engine:</label>
                                    <select class="form-select" id="pipelineEngine" required>
                                        <option value="spark">Apache Spark</option>
                                        <option value="glue">AWS Glue</option>
                                        <option value="beam">Apache Beam</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="dataSource" class="form-label">Data Source:</label>
                                    <select class="form-select" id="dataSource" required>
                                        <option value="s3">Amazon S3</option>
                                        <option value="hdfs">HDFS</option>
                                        <option value="kafka">Apache Kafka</option>
                                        <option value="database">Database</option>
                                        <option value="api">REST API</option>
                                        <option value="file">Local Files</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="dataDestination" class="form-label">Data Destination:</label>
                                    <select class="form-select" id="dataDestination" required>
                                        <option value="s3">Amazon S3</option>
                                        <option value="redshift">Amazon Redshift</option>
                                        <option value="bigquery">Google BigQuery</option>
                                        <option value="elasticsearch">Elasticsearch</option>
                                        <option value="snowflake">Snowflake</option>
                                        <option value="database">Database</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="dataFormat" class="form-label">Data Format:</label>
                                    <select class="form-select" id="dataFormat" required>
                                        <option value="parquet">Parquet</option>
                                        <option value="json">JSON</option>
                                        <option value="csv">CSV</option>
                                        <option value="avro">Avro</option>
                                        <option value="orc">ORC</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="schedulingType" class="form-label">Scheduling:</label>
                                    <select class="form-select" id="schedulingType" required>
                                        <option value="batch">Batch Processing</option>
                                        <option value="streaming">Stream Processing</option>
                                        <option value="scheduled">Scheduled (Daily)</option>
                                        <option value="trigger">Event Triggered</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="transformations" class="form-label">Data Transformations:</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="cleanData" value="clean">
                                <label class="form-check-label" for="cleanData">Data Cleaning</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="aggregateData" value="aggregate">
                                <label class="form-check-label" for="aggregateData">Data Aggregation</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="joinData" value="join">
                                <label class="form-check-label" for="joinData">Data Join</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="filterData" value="filter">
                                <label class="form-check-label" for="filterData">Data Filtering</label>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Create Pipeline</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Model Modal -->
    <div class="modal fade" id="addModelModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="bi bi-brain me-2"></i>
                        Add ML Model
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addModelForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="modelName" class="form-label">Model Name:</label>
                                    <input type="text" class="form-control" id="modelName" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="modelType" class="form-label">Model Type:</label>
                                    <select class="form-select" id="modelType" required>
                                        <option value="classification">Classification</option>
                                        <option value="regression">Regression</option>
                                        <option value="clustering">Clustering</option>
                                        <option value="deep_learning">Deep Learning</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="modelFramework" class="form-label">Framework:</label>
                                    <select class="form-select" id="modelFramework" required>
                                        <option value="scikit-learn">Scikit-learn</option>
                                        <option value="tensorflow">TensorFlow</option>
                                        <option value="pytorch">PyTorch</option>
                                        <option value="xgboost">XGBoost</option>
                                        <option value="lightgbm">LightGBM</option>
                                        <option value="catboost">CatBoost</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="modelAccuracy" class="form-label">Accuracy (%):</label>
                                    <input type="number" class="form-control" id="modelAccuracy" min="0" max="100" step="0.1" required>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="modelFeatures" class="form-label">Feature Names (comma-separated):</label>
                            <textarea class="form-control" id="modelFeatures" rows="3" placeholder="age, income, education, experience, location" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="modelDescription" class="form-label">Model Description:</label>
                            <textarea class="form-control" id="modelDescription" rows="2" placeholder="Brief description of the model purpose and use case"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Interpretability Methods:</label>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="enableSHAP" value="shap" checked>
                                <label class="form-check-label" for="enableSHAP">SHAP (SHapley Additive exPlanations)</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="enableLIME" value="lime" checked>
                                <label class="form-check-label" for="enableLIME">LIME (Local Interpretable Model-agnostic Explanations)</label>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Add Model</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global state management
        let containers = [];
        let pods = [];
        let deployments = [];
        let services = [];
        let nodes = [];
        let pipelines = [];
        let dataSources = [];
        let dataDestinations = [];
        let mlModels = [];
        let currentSelectedModel = null;
        let currentTab = 'dashboard';
        let resourceMetrics = {
            cpu: [],
            memory: [],
            storage: [],
            network: []
        };
        let pipelineMetrics = {
            throughput: [],
            latency: [],
            success: []
        };
        let shapData = {};
        let limeData = {};

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeNodes();
            initializeSampleData();
            initializePipelineData();
            initializeMLModels();
            initializeEventListeners();
            startMetricsCollection();
            updateDashboard();
            renderClusterVisualization();
            // Initialize monitoring charts immediately
            updateMonitoringCharts();
        });

        // Initialize cluster nodes
        function initializeNodes() {
            nodes = [
                {
                    id: 'master-1',
                    name: 'Master Node',
                    type: 'master',
                    status: 'Ready',
                    cpu: 20,
                    memory: 45,
                    storage: 60,
                    pods: []
                },
                {
                    id: 'worker-1',
                    name: 'Worker Node 1',
                    type: 'worker',
                    status: 'Ready',
                    cpu: 35,
                    memory: 55,
                    storage: 40,
                    pods: []
                },
                {
                    id: 'worker-2',
                    name: 'Worker Node 2',
                    type: 'worker',
                    status: 'Ready',
                    cpu: 25,
                    memory: 40,
                    storage: 45,
                    pods: []
                }
            ];
        }

        // Initialize sample data
        function initializeSampleData() {
            // Initialize terminal with welcome message
            initializeTerminal();
            
            // Sample Docker containers
            containers = [
                {
                    id: 'cont_nginx_001',
                    name: 'nginx-web-server',
                    image: 'nginx:latest',
                    port: '80:80',
                    memory: '256MB',
                    status: 'Running',
                    created: new Date(Date.now() - 3600000).toISOString(),
                    cpu: 15,
                    memoryUsage: 35
                },
                {
                    id: 'cont_redis_002',
                    name: 'redis-cache',
                    image: 'redis:6.2-alpine',
                    port: '6379:6379',
                    memory: '128MB',
                    status: 'Running',
                    created: new Date(Date.now() - 7200000).toISOString(),
                    cpu: 8,
                    memoryUsage: 22
                },
                {
                    id: 'cont_postgres_003',
                    name: 'postgres-db',
                    image: 'postgres:13',
                    port: '5432:5432',
                    memory: '512MB',
                    status: 'Running',
                    created: new Date(Date.now() - 10800000).toISOString(),
                    cpu: 25,
                    memoryUsage: 68
                },
                {
                    id: 'cont_app_004',
                    name: 'node-app',
                    image: 'node:16-alpine',
                    port: '3000:3000',
                    memory: '256MB',
                    status: 'Stopped',
                    created: new Date(Date.now() - 14400000).toISOString(),
                    cpu: 0,
                    memoryUsage: 0
                }
            ];

            // Sample Kubernetes deployments
            deployments = [
                {
                    id: 'deploy_frontend_001',
                    name: 'frontend-app',
                    type: 'Deployment',
                    image: 'nginx:latest',
                    replicas: 3,
                    port: '80',
                    status: 'Running',
                    created: new Date(Date.now() - 1800000).toISOString(),
                    pods: []
                },
                {
                    id: 'deploy_api_002',
                    name: 'api-service',
                    type: 'Deployment',
                    image: 'node:16-alpine',
                    replicas: 2,
                    port: '3000',
                    status: 'Running',
                    created: new Date(Date.now() - 3600000).toISOString(),
                    pods: []
                }
            ];

            // Sample Kubernetes services
            services = [
                {
                    id: 'svc_frontend_001',
                    name: 'frontend-service',
                    type: 'Service',
                    serviceType: 'LoadBalancer',
                    port: '80',
                    targetPort: '80',
                    status: 'Active',
                    created: new Date(Date.now() - 1800000).toISOString(),
                    endpoints: 3
                },
                {
                    id: 'svc_api_002',
                    name: 'api-service',
                    type: 'Service',
                    serviceType: 'ClusterIP',
                    port: '3000',
                    targetPort: '3000',
                    status: 'Active',
                    created: new Date(Date.now() - 3600000).toISOString(),
                    endpoints: 2
                },
                {
                    id: 'svc_database_003',
                    name: 'database-service',
                    type: 'Service',
                    serviceType: 'ClusterIP',
                    port: '5432',
                    targetPort: '5432',
                    status: 'Active',
                    created: new Date(Date.now() - 7200000).toISOString(),
                    endpoints: 1
                }
            ];

            // Create sample pods for deployments
            createSamplePods();
        }

        function createSamplePods() {
            // Frontend pods
            const frontendDeployment = deployments[0];
            for (let i = 0; i < 3; i++) {
                const pod = {
                    id: `pod_frontend_${Date.now()}_${i}`,
                    name: `frontend-app-${generateRandomString(5)}-${i}`,
                    type: 'Pod',
                    image: 'nginx:latest',
                    namespace: 'default',
                    status: 'Running',
                    node: getRandomNode(),
                    created: new Date(Date.now() - 1800000 + (i * 10000)).toISOString(),
                    deploymentId: frontendDeployment.id,
                    cpu: Math.random() * 20 + 10,
                    memory: Math.random() * 30 + 20
                };
                pods.push(pod);
                frontendDeployment.pods.push(pod.id);
                assignPodToNode(pod);
            }

            // API service pods
            const apiDeployment = deployments[1];
            for (let i = 0; i < 2; i++) {
                const pod = {
                    id: `pod_api_${Date.now()}_${i}`,
                    name: `api-service-${generateRandomString(5)}-${i}`,
                    type: 'Pod',
                    image: 'node:16-alpine',
                    namespace: 'default',
                    status: 'Running',
                    node: getRandomNode(),
                    created: new Date(Date.now() - 3600000 + (i * 15000)).toISOString(),
                    deploymentId: apiDeployment.id,
                    cpu: Math.random() * 25 + 15,
                    memory: Math.random() * 40 + 30
                };
                pods.push(pod);
                apiDeployment.pods.push(pod.id);
                assignPodToNode(pod);
            }

            // Standalone database pod
            const dbPod = {
                id: `pod_database_${Date.now()}`,
                name: 'database-pod',
                type: 'Pod',
                image: 'postgres:13',
                namespace: 'default',
                status: 'Running',
                node: getRandomNode(),
                created: new Date(Date.now() - 7200000).toISOString(),
                cpu: Math.random() * 30 + 20,
                memory: Math.random() * 50 + 40
            };
            pods.push(dbPod);
            assignPodToNode(dbPod);

            // Sample monitoring pod
            const monitoringPod = {
                id: `pod_monitoring_${Date.now()}`,
                name: 'prometheus-monitoring',
                type: 'Pod',
                image: 'prom/prometheus:latest',
                namespace: 'monitoring',
                status: 'Running',
                node: getRandomNode(),
                created: new Date(Date.now() - 14400000).toISOString(),
                cpu: Math.random() * 15 + 5,
                memory: Math.random() * 25 + 15
            };
            pods.push(monitoringPod);
            assignPodToNode(monitoringPod);
        }

        function initializeTerminal() {
            // Add initial terminal output to show system activity
            setTimeout(() => {
                addTerminalOutput('Docker & Kubernetes Simulator Terminal', 'success');
                addTerminalOutput('System initialized successfully', 'output');
                addTerminalOutput('$ docker ps', 'command');
                addTerminalOutput('Loading Docker containers...', 'output');
            }, 500);
            
            setTimeout(() => {
                addTerminalOutput('$ kubectl get pods', 'command');
                addTerminalOutput('Loading Kubernetes resources...', 'output');
                addTerminalOutput('Found 7 pods running across 3 nodes', 'success');
            }, 1500);
            
            setTimeout(() => {
                addTerminalOutput('$ kubectl get services', 'command');
                addTerminalOutput('frontend-service    LoadBalancer   10.96.0.1    <pending>     80:30080/TCP', 'output');
                addTerminalOutput('api-service        ClusterIP      10.96.0.2    <none>        3000/TCP', 'output');
                addTerminalOutput('database-service   ClusterIP      10.96.0.3    <none>        5432/TCP', 'output');
            }, 2500);
            
            setTimeout(() => {
                addTerminalOutput('$ kubectl cluster-info', 'command');
                addTerminalOutput('Kubernetes control plane is running at https://master-1:6443', 'success');
                addTerminalOutput('Ready to accept commands...', 'output');
            }, 3500);
        }

        // Initialize pipeline data
        function initializePipelineData() {
            // Initialize data sources
            dataSources = [
                { id: 'src_1', name: 'Customer Database', type: 'database', status: 'Connected', records: '2.5M' },
                { id: 'src_2', name: 'API Events', type: 'kafka', status: 'Streaming', records: '15K/sec' },
                { id: 'src_3', name: 'S3 Data Lake', type: 's3', status: 'Available', records: '850GB' },
                { id: 'src_4', name: 'Web Logs', type: 'file', status: 'Connected', records: '1.2TB' }
            ];

            // Initialize data destinations
            dataDestinations = [
                { id: 'dest_1', name: 'Analytics Warehouse', type: 'redshift', status: 'Ready', capacity: '5TB' },
                { id: 'dest_2', name: 'Search Index', type: 'elasticsearch', status: 'Active', capacity: '2TB' },
                { id: 'dest_3', name: 'ML Feature Store', type: 'snowflake', status: 'Ready', capacity: '3TB' },
                { id: 'dest_4', name: 'Real-time Dashboard', type: 'bigquery', status: 'Connected', capacity: '1TB' }
            ];

            // Sample pipelines
            pipelines = [
                {
                    id: 'pipe_1',
                    name: 'Customer Analytics ETL',
                    engine: 'spark',
                    status: 'Running',
                    source: 'Customer Database',
                    destination: 'Analytics Warehouse',
                    dataProcessed: '125.5 GB',
                    runtime: '2h 15m',
                    throughput: 45,
                    created: new Date(Date.now() - 7200000).toISOString()
                },
                {
                    id: 'pipe_2',
                    name: 'Real-time Event Processing',
                    engine: 'beam',
                    status: 'Running',
                    source: 'API Events',
                    destination: 'Real-time Dashboard',
                    dataProcessed: '89.2 GB',
                    runtime: '4h 32m',
                    throughput: 78,
                    created: new Date(Date.now() - 14400000).toISOString()
                },
                {
                    id: 'pipe_3',
                    name: 'Log Analysis Pipeline',
                    engine: 'glue',
                    status: 'Completed',
                    source: 'Web Logs',
                    destination: 'Search Index',
                    dataProcessed: '256.8 GB',
                    runtime: '1h 45m',
                    throughput: 92,
                    created: new Date(Date.now() - 10800000).toISOString()
                }
            ];

            updatePipelineTable();
            updateDataSourcesAndDestinations();
            updatePipelineMetrics();
        }

        // Initialize ML models
        function initializeMLModels() {
            // Sample ML models
            mlModels = [
                {
                    id: 'model_1',
                    name: 'Customer Churn Prediction',
                    type: 'classification',
                    framework: 'scikit-learn',
                    accuracy: 94.2,
                    features: ['age', 'income', 'tenure', 'monthly_charges', 'total_charges', 'contract_type'],
                    description: 'Predicts customer churn probability for telecommunications company',
                    shapEnabled: true,
                    limeEnabled: true,
                    created: new Date().toISOString()
                },
                {
                    id: 'model_2',
                    name: 'House Price Estimator',
                    type: 'regression',
                    framework: 'xgboost',
                    accuracy: 89.7,
                    features: ['bedrooms', 'bathrooms', 'sqft_living', 'sqft_lot', 'floors', 'waterfront', 'grade'],
                    description: 'Estimates house prices based on property features',
                    shapEnabled: true,
                    limeEnabled: true,
                    created: new Date().toISOString()
                },
                {
                    id: 'model_3',
                    name: 'Fraud Detection',
                    type: 'classification',
                    framework: 'tensorflow',
                    accuracy: 98.1,
                    features: ['transaction_amount', 'merchant_category', 'hour_of_day', 'day_of_week', 'user_age', 'account_balance'],
                    description: 'Detects fraudulent credit card transactions',
                    shapEnabled: true,
                    limeEnabled: true,
                    created: new Date().toISOString()
                }
            ];

            generateSampleSHAPData();
            generateSampleLIMEData();
            updateModelsTable();
            updateMLMetrics();
            updateModelSelects();
            generateFeatureInputs();
        }

        function generateSampleSHAPData() {
            mlModels.forEach(model => {
                shapData[model.id] = model.features.map(feature => ({
                    feature: feature,
                    importance: Math.random() * 2 - 1, // Random values between -1 and 1
                    absImportance: Math.random()
                })).sort((a, b) => b.absImportance - a.absImportance);
            });
        }

        function generateSampleLIMEData() {
            mlModels.forEach(model => {
                limeData[model.id] = model.features.map(feature => ({
                    feature: feature,
                    impact: Math.random() * 2 - 1, // Random values between -1 and 1
                    value: Math.random() * 100
                })).sort((a, b) => Math.abs(b.impact) - Math.abs(a.impact));
            });
        }

        // Initialize event listeners
        function initializeEventListeners() {
            // Form submissions
            document.getElementById('createContainerForm').addEventListener('submit', handleCreateContainer);
            document.getElementById('createPodForm').addEventListener('submit', handleCreatePod);
            document.getElementById('createDeploymentForm').addEventListener('submit', handleCreateDeployment);
            document.getElementById('createServiceForm').addEventListener('submit', handleCreateService);
            document.getElementById('createPipelineForm').addEventListener('submit', handleCreatePipeline);
            document.getElementById('addModelForm').addEventListener('submit', handleAddModel);

            // Terminal input
            document.getElementById('terminal-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    executeTerminalCommand();
                }
            });

            // Bootstrap tab change events
            document.querySelectorAll('[data-bs-toggle="pill"]').forEach(tab => {
                tab.addEventListener('shown.bs.tab', function(e) {
                    const tabName = e.target.getAttribute('data-bs-target').replace('#', '');
                    currentTab = tabName;
                    
                    // Update content based on tab
                    if (tabName === 'dashboard') {
                        updateDashboard();
                    } else if (tabName === 'docker') {
                        updateDockerTable();
                    } else if (tabName === 'kubernetes') {
                        updateKubernetesTable();
                        renderClusterVisualization();
                    } else if (tabName === 'monitoring') {
                        // Small delay to ensure canvas is rendered
                        setTimeout(() => {
                            updateMonitoringCharts();
                        }, 100);
                    } else if (tabName === 'data-pipeline') {
                        updatePipelineTable();
                        updateDataSourcesAndDestinations();
                        setTimeout(() => {
                            updatePipelineChart();
                        }, 100);
                    } else if (tabName === 'ml-interpretability') {
                        updateModelsTable();
                        updateMLMetrics();
                        setTimeout(() => {
                            updateModelPerformanceChart();
                            updateSHAPChart();
                            updateLIMEChart();
                        }, 100);
                    }
                });
            });
        }

        // Container management functions
        function handleCreateContainer(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const container = {
                id: 'cont_' + Date.now(),
                name: document.getElementById('containerName').value,
                image: document.getElementById('containerImage').value,
                port: document.getElementById('containerPort').value,
                memory: document.getElementById('containerMemory').value,
                status: 'Created',
                created: new Date().toISOString(),
                cpu: Math.random() * 50,
                memoryUsage: Math.random() * 100
            };

            containers.push(container);
            updateDockerTable();
            updateDashboard();
            closeModal('createContainerModal');
            addTerminalOutput(`Container ${container.name} created successfully`, 'success');
            
            // Auto-start container after 2 seconds
            setTimeout(() => {
                startContainer(container.id);
            }, 2000);
        }

        function handleCreatePod(e) {
            e.preventDefault();
            const podName = document.getElementById('podName').value;
            const podImage = document.getElementById('podImage').value;
            const replicas = parseInt(document.getElementById('podReplicas').value);
            const namespace = document.getElementById('podNamespace').value;

            for (let i = 0; i < replicas; i++) {
                const pod = {
                    id: 'pod_' + Date.now() + '_' + i,
                    name: `${podName}-${i}`,
                    type: 'Pod',
                    image: podImage,
                    namespace: namespace,
                    status: 'Pending',
                    node: getRandomNode(),
                    created: new Date().toISOString(),
                    cpu: Math.random() * 30,
                    memory: Math.random() * 50
                };

                pods.push(pod);
                assignPodToNode(pod);
            }

            updateKubernetesTable();
            updateDashboard();
            renderClusterVisualization();
            closeModal('createPodModal');
            addTerminalOutput(`Created ${replicas} pod(s) for ${podName}`, 'success');

            // Simulate pod startup
            setTimeout(() => {
                pods.filter(p => p.name.startsWith(podName)).forEach(pod => {
                    pod.status = 'Running';
                });
                updateKubernetesTable();
                renderClusterVisualization();
            }, 3000);
        }

        function handleCreateDeployment(e) {
            e.preventDefault();
            const deploymentName = document.getElementById('deploymentName').value;
            const image = document.getElementById('deploymentImage').value;
            const replicas = parseInt(document.getElementById('deploymentReplicas').value);
            const port = document.getElementById('deploymentPort').value;

            const deployment = {
                id: 'deploy_' + Date.now(),
                name: deploymentName,
                type: 'Deployment',
                image: image,
                replicas: replicas,
                port: port,
                status: 'Creating',
                created: new Date().toISOString(),
                pods: []
            };

            deployments.push(deployment);

            // Create pods for deployment
            for (let i = 0; i < replicas; i++) {
                const pod = {
                    id: 'pod_' + Date.now() + '_' + i,
                    name: `${deploymentName}-${generateRandomString(5)}-${i}`,
                    type: 'Pod',
                    image: image,
                    namespace: 'default',
                    status: 'Pending',
                    node: getRandomNode(),
                    created: new Date().toISOString(),
                    deploymentId: deployment.id,
                    cpu: Math.random() * 30,
                    memory: Math.random() * 50
                };

                pods.push(pod);
                deployment.pods.push(pod.id);
                assignPodToNode(pod);
            }

            updateKubernetesTable();
            updateDashboard();
            renderClusterVisualization();
            closeModal('createDeploymentModal');
            addTerminalOutput(`Deployment ${deploymentName} created with ${replicas} replicas`, 'success');

            // Simulate deployment rollout
            setTimeout(() => {
                deployment.status = 'Running';
                deployment.pods.forEach(podId => {
                    const pod = pods.find(p => p.id === podId);
                    if (pod) pod.status = 'Running';
                });
                updateKubernetesTable();
                renderClusterVisualization();
            }, 4000);
        }

        function handleCreateService(e) {
            e.preventDefault();
            const service = {
                id: 'svc_' + Date.now(),
                name: document.getElementById('serviceName').value,
                type: 'Service',
                serviceType: document.getElementById('serviceType').value,
                port: document.getElementById('servicePort').value,
                targetPort: document.getElementById('serviceTargetPort').value,
                status: 'Active',
                created: new Date().toISOString(),
                endpoints: Math.floor(Math.random() * 5) + 1
            };

            services.push(service);
            updateKubernetesTable();
            closeModal('createServiceModal');
            addTerminalOutput(`Service ${service.name} created (${service.serviceType})`, 'success');
        }

        // Container actions
        function startContainer(containerId) {
            const container = containers.find(c => c.id === containerId);
            if (container) {
                container.status = 'Running';
                updateDockerTable();
                updateDashboard();
                addTerminalOutput(`Container ${container.name} started`, 'success');
            }
        }

        function stopContainer(containerId) {
            const container = containers.find(c => c.id === containerId);
            if (container) {
                container.status = 'Stopped';
                updateDockerTable();
                updateDashboard();
                addTerminalOutput(`Container ${container.name} stopped`, 'warning');
            }
        }

        function removeContainer(containerId) {
            const containerIndex = containers.findIndex(c => c.id === containerId);
            if (containerIndex > -1) {
                const container = containers[containerIndex];
                containers.splice(containerIndex, 1);
                updateDockerTable();
                updateDashboard();
                addTerminalOutput(`Container ${container.name} removed`, 'error');
            }
        }

        function startAllContainers() {
            containers.forEach(container => {
                if (container.status !== 'Running') {
                    container.status = 'Running';
                }
            });
            updateDockerTable();
            updateDashboard();
            addTerminalOutput('All containers started', 'success');
        }

        function stopAllContainers() {
            containers.forEach(container => {
                if (container.status === 'Running') {
                    container.status = 'Stopped';
                }
            });
            updateDockerTable();
            updateDashboard();
            addTerminalOutput('All containers stopped', 'warning');
        }

        // Kubernetes actions
        function deletePod(podId) {
            const podIndex = pods.findIndex(p => p.id === podId);
            if (podIndex > -1) {
                const pod = pods[podIndex];
                
                // Remove from node
                const node = nodes.find(n => n.id === pod.node);
                if (node) {
                    const nodeIndex = node.pods.findIndex(p => p.id === podId);
                    if (nodeIndex > -1) {
                        node.pods.splice(nodeIndex, 1);
                    }
                }
                
                pods.splice(podIndex, 1);
                updateKubernetesTable();
                updateDashboard();
                renderClusterVisualization();
                addTerminalOutput(`Pod ${pod.name} deleted`, 'error');
            }
        }

        function deleteDeployment(deploymentId) {
            const deploymentIndex = deployments.findIndex(d => d.id === deploymentId);
            if (deploymentIndex > -1) {
                const deployment = deployments[deploymentIndex];
                
                // Remove associated pods
                deployment.pods.forEach(podId => {
                    deletePod(podId);
                });
                
                deployments.splice(deploymentIndex, 1);
                updateKubernetesTable();
                updateDashboard();
                renderClusterVisualization();
                addTerminalOutput(`Deployment ${deployment.name} deleted`, 'error');
            }
        }

        function deleteService(serviceId) {
            const serviceIndex = services.findIndex(s => s.id === serviceId);
            if (serviceIndex > -1) {
                const service = services[serviceIndex];
                services.splice(serviceIndex, 1);
                updateKubernetesTable();
                addTerminalOutput(`Service ${service.name} deleted`, 'error');
            }
        }

        // Utility functions
        function getRandomNode() {
            const workerNodes = nodes.filter(n => n.type === 'worker');
            return workerNodes[Math.floor(Math.random() * workerNodes.length)].id;
        }

        function assignPodToNode(pod) {
            const node = nodes.find(n => n.id === pod.node);
            if (node) {
                node.pods.push({
                    id: pod.id,
                    name: pod.name,
                    status: pod.status,
                    cpu: pod.cpu,
                    memory: pod.memory
                });
            }
        }

        function generateRandomString(length) {
            const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';
            let result = '';
            for (let i = 0; i < length; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }

        // Update functions
        function updateDashboard() {
            // Update metrics
            document.getElementById('docker-count').textContent = containers.length;
            document.getElementById('k8s-count').textContent = pods.length;
            document.getElementById('pod-count').textContent = pods.filter(p => p.status === 'Running').length;
            document.getElementById('node-count').textContent = nodes.length;

            // Update cluster status
            const runningPods = pods.filter(p => p.status === 'Running').length;
            const clusterStatus = runningPods > 0 ? 'Active' : 'Ready';
            document.getElementById('cluster-status').textContent = clusterStatus;

            // Update resource usage
            const avgCpu = nodes.reduce((sum, node) => sum + node.cpu, 0) / nodes.length;
            const avgMemory = nodes.reduce((sum, node) => sum + node.memory, 0) / nodes.length;
            
            document.getElementById('cpu-usage').textContent = Math.round(avgCpu) + '%';
            document.getElementById('memory-usage').textContent = Math.round(avgMemory) + '%';

            // Update charts
            updateDashboardCharts();
        }

        function updateDockerTable() {
            const tbody = document.getElementById('docker-containers');
            tbody.innerHTML = '';

            containers.forEach(container => {
                const row = document.createElement('tr');
                row.className = 'fade-in';
                row.innerHTML = `
                    <td>${container.id.substring(0, 12)}</td>
                    <td>${container.image}</td>
                    <td><span class="badge bg-${container.status.toLowerCase() === 'running' ? 'success' : container.status.toLowerCase() === 'stopped' ? 'danger' : 'warning'}">${container.status}</span></td>
                    <td>${container.port}</td>
                    <td>${new Date(container.created).toLocaleString()}</td>
                    <td>
                        ${container.status === 'Running' ? 
                            `<button class="btn btn-warning" onclick="stopContainer('${container.id}')">Stop</button>` :
                            `<button class="btn btn-success" onclick="startContainer('${container.id}')">Start</button>`
                        }
                        <button class="btn btn-danger" onclick="removeContainer('${container.id}')">Remove</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function updateKubernetesTable() {
            const tbody = document.getElementById('k8s-resources');
            tbody.innerHTML = '';

            // Add pods
            pods.forEach(pod => {
                const row = document.createElement('tr');
                row.className = 'fade-in';
                row.innerHTML = `
                    <td>${pod.name}</td>
                    <td>${pod.type}</td>
                    <td><span class="badge bg-${pod.status.toLowerCase() === 'running' ? 'success' : pod.status.toLowerCase() === 'pending' ? 'warning' : 'danger'}">${pod.status}</span></td>
                    <td>${pod.node}</td>
                    <td>${new Date(pod.created).toLocaleString()}</td>
                    <td>
                        <button class="btn btn-danger" onclick="deletePod('${pod.id}')">Delete</button>
                    </td>
                `;
                tbody.appendChild(row);
            });

            // Add deployments
            deployments.forEach(deployment => {
                const row = document.createElement('tr');
                row.className = 'fade-in';
                row.innerHTML = `
                    <td>${deployment.name}</td>
                    <td>${deployment.type}</td>
                    <td><span class="badge bg-${deployment.status.toLowerCase() === 'running' ? 'success' : deployment.status.toLowerCase() === 'pending' ? 'warning' : 'danger'}">${deployment.status}</span></td>
                    <td>Multiple</td>
                    <td>${new Date(deployment.created).toLocaleString()}</td>
                    <td>
                        <button class="btn btn-warning" onclick="scaleDeployment('${deployment.id}')">Scale</button>
                        <button class="btn btn-danger" onclick="deleteDeployment('${deployment.id}')">Delete</button>
                    </td>
                `;
                tbody.appendChild(row);
            });

            // Add services
            services.forEach(service => {
                const row = document.createElement('tr');
                row.className = 'fade-in';
                row.innerHTML = `
                    <td>${service.name}</td>
                    <td>${service.type}</td>
                    <td><span class="badge bg-${service.status.toLowerCase() === 'active' ? 'success' : 'danger'}">${service.status}</span></td>
                    <td>-</td>
                    <td>${new Date(service.created).toLocaleString()}</td>
                    <td>
                        <button class="btn btn-danger" onclick="deleteService('${service.id}')">Delete</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function renderClusterVisualization() {
            const container = document.getElementById('cluster-nodes');
            container.innerHTML = '';

            nodes.forEach(node => {
                const nodeDiv = document.createElement('div');
                nodeDiv.className = `cluster-node ${node.type}`;
                
                const podsHtml = node.pods.map(pod => 
                    `<div class="pod ${pod.status.toLowerCase()}" title="${pod.name}">${pod.name.charAt(0).toUpperCase()}</div>`
                ).join('');

                nodeDiv.innerHTML = `
                    <div class="node-title">${node.name}</div>
                    <div class="node-pods">${podsHtml}</div>
                    <div class="resource-bars">
                        <div class="resource-bar">
                            <div class="resource-label">CPU: ${node.cpu}%</div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${node.cpu}%"></div>
                            </div>
                        </div>
                        <div class="resource-bar">
                            <div class="resource-label">Memory: ${node.memory}%</div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${node.memory}%"></div>
                            </div>
                        </div>
                    </div>
                `;

                container.appendChild(nodeDiv);
            });
        }

        // Chart functions
        function updateDashboardCharts() {
            updateChart('docker-chart', containers.length, 'Containers');
            updateChart('k8s-chart', pods.length, 'Pods');
            updateChart('memory-chart', nodes.reduce((sum, node) => sum + node.memory, 0) / nodes.length, 'Memory %');
            updateChart('cpu-chart', nodes.reduce((sum, node) => sum + node.cpu, 0) / nodes.length, 'CPU %');
        }

        function updateChart(canvasId, value, label) {
            const canvas = document.getElementById(canvasId);
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width = canvas.offsetWidth;
            const height = canvas.height = canvas.offsetHeight;
            
            // Clear canvas
            ctx.clearRect(0, 0, width, height);
            
            // Draw simple bar chart
            ctx.fillStyle = '#2196F3';
            ctx.fillRect(20, height - 40, (width - 40) * (value / 100), 30);
            
            // Draw border
            ctx.strokeStyle = '#444';
            ctx.strokeRect(20, height - 40, width - 40, 30);
            
            // Draw text
            ctx.fillStyle = '#e0e0e0';
            ctx.font = '12px Arial';
            ctx.fillText(label, 20, height - 45);
        }

        function updateMonitoringCharts() {
            updateResourceBars();
            updateMetricsChart();
        }

        function updateResourceBars() {
            // Calculate real metrics from nodes and containers
            const avgCpu = nodes.reduce((sum, node) => sum + node.cpu, 0) / nodes.length || 35;
            const avgMemory = nodes.reduce((sum, node) => sum + node.memory, 0) / nodes.length || 48;
            
            // Calculate storage from containers and pods
            const containerStorage = containers.length * 5 + 25;
            const podStorage = pods.length * 3 + 15;
            const avgStorage = Math.min(85, containerStorage + podStorage);
            
            // Calculate network from active pods and containers
            const activeResources = containers.filter(c => c.status === 'Running').length + 
                                   pods.filter(p => p.status === 'Running').length;
            const networkUsage = Math.min(80, activeResources * 8 + 15);

            // Update metric cards
            const monitoringCpu = document.getElementById('monitoring-cpu');
            const monitoringMemory = document.getElementById('monitoring-memory');
            const monitoringStorage = document.getElementById('monitoring-storage');
            const monitoringNetwork = document.getElementById('monitoring-network');

            if (monitoringCpu) monitoringCpu.textContent = Math.round(avgCpu) + '%';
            if (monitoringMemory) monitoringMemory.textContent = Math.round(avgMemory) + '%';
            if (monitoringStorage) monitoringStorage.textContent = Math.round(avgStorage) + '%';
            if (monitoringNetwork) monitoringNetwork.textContent = Math.round(networkUsage) + '%';

            // Update progress bars
            const cpuBar = document.getElementById('cpu-bar');
            const memoryBar = document.getElementById('memory-bar');
            const storageBar = document.getElementById('storage-bar');
            const networkBar = document.getElementById('network-bar');

            if (cpuBar) {
                cpuBar.style.width = avgCpu + '%';
                cpuBar.textContent = Math.round(avgCpu) + '%';
                cpuBar.setAttribute('aria-valuenow', avgCpu);
                
                // Update color based on usage
                cpuBar.className = 'progress-bar';
                if (avgCpu > 80) cpuBar.classList.add('bg-danger');
                else if (avgCpu > 60) cpuBar.classList.add('bg-warning');
                else cpuBar.classList.add('bg-success');
            }
            
            if (memoryBar) {
                memoryBar.style.width = avgMemory + '%';
                memoryBar.textContent = Math.round(avgMemory) + '%';
                memoryBar.setAttribute('aria-valuenow', avgMemory);
                
                memoryBar.className = 'progress-bar';
                if (avgMemory > 80) memoryBar.classList.add('bg-danger');
                else if (avgMemory > 60) memoryBar.classList.add('bg-warning');
                else memoryBar.classList.add('bg-success');
            }
            
            if (storageBar) {
                storageBar.style.width = avgStorage + '%';
                storageBar.textContent = Math.round(avgStorage) + '%';
                storageBar.setAttribute('aria-valuenow', avgStorage);
                
                storageBar.className = 'progress-bar';
                if (avgStorage > 80) storageBar.classList.add('bg-danger');
                else if (avgStorage > 60) storageBar.classList.add('bg-warning');
                else storageBar.classList.add('bg-info');
            }
            
            if (networkBar) {
                networkBar.style.width = networkUsage + '%';
                networkBar.textContent = Math.round(networkUsage) + '%';
                networkBar.setAttribute('aria-valuenow', networkUsage);
                
                networkBar.className = 'progress-bar bg-warning';
            }
        }

        function updateMetricsChart() {
            const canvas = document.getElementById('metrics-chart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            // Ensure canvas has proper dimensions - handle hidden tab case
            let containerWidth = canvas.parentElement.offsetWidth;
            let containerHeight = canvas.parentElement.offsetHeight;
            
            // If container has no size (hidden tab), use fallback dimensions
            if (containerWidth === 0) containerWidth = 400;
            if (containerHeight === 0) containerHeight = 300;
            
            const width = canvas.width = containerWidth;
            const height = canvas.height = containerHeight;
            
            // Clear canvas and add background
            ctx.clearRect(0, 0, width, height);
            ctx.fillStyle = '#1a1a1a';
            ctx.fillRect(0, 0, width, height);
            
            // Draw grid background
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            for (let i = 1; i < 5; i++) {
                const y = (height / 5) * i;
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(width, y);
                ctx.stroke();
            }
            
            // Draw time series chart
            const dataPoints = 24;
            const stepX = width / (dataPoints - 1);
            
            // Generate realistic data based on cluster state
            const currentCpu = nodes.reduce((sum, node) => sum + node.cpu, 0) / nodes.length || 35;
            const currentMemory = nodes.reduce((sum, node) => sum + node.memory, 0) / nodes.length || 48;
            const currentNetwork = (containers.filter(c => c.status === 'Running').length + pods.filter(p => p.status === 'Running').length) * 8 + 15;
            
            // Store historical data in resourceMetrics
            if (!resourceMetrics.cpuHistory) resourceMetrics.cpuHistory = [];
            if (!resourceMetrics.memoryHistory) resourceMetrics.memoryHistory = [];
            if (!resourceMetrics.networkHistory) resourceMetrics.networkHistory = [];
            
            // Add current values to history
            resourceMetrics.cpuHistory.push(currentCpu + (Math.random() - 0.5) * 10);
            resourceMetrics.memoryHistory.push(currentMemory + (Math.random() - 0.5) * 8);
            resourceMetrics.networkHistory.push(Math.min(80, currentNetwork + (Math.random() - 0.5) * 15));
            
            // Keep only last 24 points
            if (resourceMetrics.cpuHistory.length > dataPoints) resourceMetrics.cpuHistory.shift();
            if (resourceMetrics.memoryHistory.length > dataPoints) resourceMetrics.memoryHistory.shift();
            if (resourceMetrics.networkHistory.length > dataPoints) resourceMetrics.networkHistory.shift();
            
            // Fill with initial data if needed
            while (resourceMetrics.cpuHistory.length < dataPoints) {
                resourceMetrics.cpuHistory.unshift(currentCpu + (Math.random() - 0.5) * 15);
            }
            while (resourceMetrics.memoryHistory.length < dataPoints) {
                resourceMetrics.memoryHistory.unshift(currentMemory + (Math.random() - 0.5) * 12);
            }
            while (resourceMetrics.networkHistory.length < dataPoints) {
                resourceMetrics.networkHistory.unshift(currentNetwork + (Math.random() - 0.5) * 20);
            }
            
            // Draw CPU line
            ctx.strokeStyle = '#2196F3';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let i = 0; i < dataPoints; i++) {
                const x = i * stepX;
                const y = height - (Math.max(0, Math.min(100, resourceMetrics.cpuHistory[i])) / 100) * height;
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
            
            // Draw Memory line
            ctx.strokeStyle = '#4CAF50';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let i = 0; i < dataPoints; i++) {
                const x = i * stepX;
                const y = height - (Math.max(0, Math.min(100, resourceMetrics.memoryHistory[i])) / 100) * height;
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
            
            // Draw Network line
            ctx.strokeStyle = '#FF9800';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let i = 0; i < dataPoints; i++) {
                const x = i * stepX;
                const y = height - (Math.max(0, Math.min(100, resourceMetrics.networkHistory[i])) / 100) * height;
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();
            
            // Draw legend with current values
            const legendY = 15;
            ctx.fillStyle = '#2196F3';
            ctx.fillRect(10, legendY, 12, 12);
            ctx.fillStyle = '#e0e0e0';
            ctx.font = '11px Arial';
            ctx.fillText(`CPU: ${Math.round(currentCpu)}%`, 25, legendY + 9);
            
            ctx.fillStyle = '#4CAF50';
            ctx.fillRect(100, legendY, 12, 12);
            ctx.fillStyle = '#e0e0e0';
            ctx.fillText(`Memory: ${Math.round(currentMemory)}%`, 115, legendY + 9);
            
            ctx.fillStyle = '#FF9800';
            ctx.fillRect(200, legendY, 12, 12);
            ctx.fillStyle = '#e0e0e0';
            ctx.fillText(`Network: ${Math.round(currentNetwork)}%`, 215, legendY + 9);
            
            // Draw current time
            ctx.fillStyle = '#888';
            ctx.font = '10px Arial';
            const now = new Date();
            ctx.fillText(now.toLocaleTimeString(), width - 80, height - 5);
        }

        // Terminal functions
        function executeTerminalCommand() {
            const input = document.getElementById('terminal-input');
            const command = input.value.trim();
            input.value = '';
            
            if (command) {
                executeCommand(command);
            }
        }

        function executeCommand(command) {
            addTerminalOutput(`$ ${command}`, 'prompt');
            
            // Simulate command execution
            setTimeout(() => {
                switch (command.toLowerCase()) {
                    case 'help':
                        addTerminalOutput('Available commands:', 'output');
                        addTerminalOutput('  Docker:', 'output');
                        addTerminalOutput('    docker ps - List containers', 'output');
                        addTerminalOutput('    docker images - List images', 'output');
                        addTerminalOutput('  Kubernetes:', 'output');
                        addTerminalOutput('    kubectl get pods - List pods', 'output');
                        addTerminalOutput('    kubectl get nodes - List nodes', 'output');
                        addTerminalOutput('    kubectl get services - List services', 'output');
                        addTerminalOutput('  Data Pipelines:', 'output');
                        addTerminalOutput('    pipeline status - Show pipeline status', 'output');
                        addTerminalOutput('    spark-submit --help - Spark commands', 'output');
                        addTerminalOutput('    aws glue - AWS Glue status', 'output');
                        addTerminalOutput('  ML Interpretability:', 'output');
                        addTerminalOutput('    ml models - Show ML models status', 'output');
                        addTerminalOutput('    shap analysis - Show SHAP analysis', 'output');
                        addTerminalOutput('    lime explain - Show LIME explanations', 'output');
                        addTerminalOutput('  Other:', 'output');
                        addTerminalOutput('    clear - Clear terminal', 'output');
                        break;
                    case 'docker ps':
                        addTerminalOutput('CONTAINER ID   IMAGE     STATUS    PORTS     NAMES', 'output');
                        containers.forEach(container => {
                            addTerminalOutput(`${container.id.substring(0, 12)}   ${container.image}   ${container.status}   ${container.port}   ${container.name}`, 'output');
                        });
                        break;
                    case 'docker images':
                        addTerminalOutput('REPOSITORY   TAG       IMAGE ID     CREATED      SIZE', 'output');
                        const images = [...new Set(containers.map(c => c.image))];
                        images.forEach(image => {
                            addTerminalOutput(`${image}        latest    ${generateRandomString(12)}   2 hours ago   ${Math.floor(Math.random() * 500) + 100}MB`, 'output');
                        });
                        break;
                    case 'kubectl get pods':
                        addTerminalOutput('NAME                     READY   STATUS    RESTARTS   AGE', 'output');
                        pods.forEach(pod => {
                            addTerminalOutput(`${pod.name}   1/1     ${pod.status}   0          ${Math.floor(Math.random() * 60)}m`, 'output');
                        });
                        break;
                    case 'kubectl get nodes':
                        addTerminalOutput('NAME        STATUS   ROLES    AGE   VERSION', 'output');
                        nodes.forEach(node => {
                            addTerminalOutput(`${node.name}   Ready    ${node.type}   ${Math.floor(Math.random() * 30) + 1}d   v1.24.0`, 'output');
                        });
                        break;
                    case 'kubectl get services':
                        addTerminalOutput('NAME         TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)   AGE', 'output');
                        services.forEach(service => {
                            addTerminalOutput(`${service.name}   ${service.serviceType}   10.96.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}   <none>   ${service.port}/TCP   ${Math.floor(Math.random() * 60)}m`, 'output');
                        });
                        break;
                    case 'spark-submit --help':
                        addTerminalOutput('Apache Spark Submit Commands:', 'output');
                        addTerminalOutput('  spark-submit job.py - Submit Spark job', 'output');
                        addTerminalOutput('  spark-shell - Start Spark interactive shell', 'output');
                        break;
                    case 'aws glue':
                        addTerminalOutput('AWS Glue Commands:', 'output');
                        addTerminalOutput('  Available Glue jobs:', 'output');
                        pipelines.filter(p => p.engine === 'glue').forEach(pipeline => {
                            addTerminalOutput(`  - ${pipeline.name}: ${pipeline.status}`, 'output');
                        });
                        break;
                    case 'pipeline status':
                        addTerminalOutput('Data Pipeline Status:', 'output');
                        pipelines.forEach(pipeline => {
                            addTerminalOutput(`  ${pipeline.name} (${pipeline.engine}): ${pipeline.status} - ${pipeline.dataProcessed}`, 'output');
                        });
                        break;
                    case 'ml models':
                        addTerminalOutput('ML Models Status:', 'output');
                        mlModels.forEach(model => {
                            addTerminalOutput(`  ${model.name} (${model.framework}): ${model.accuracy.toFixed(1)}% accuracy`, 'output');
                        });
                        break;
                    case 'shap analysis':
                        addTerminalOutput('SHAP Analysis Available for:', 'output');
                        mlModels.filter(m => m.shapEnabled).forEach(model => {
                            addTerminalOutput(`  - ${model.name}: Feature importance analysis`, 'output');
                        });
                        break;
                    case 'lime explain':
                        addTerminalOutput('LIME Explanations Available for:', 'output');
                        mlModels.filter(m => m.limeEnabled).forEach(model => {
                            addTerminalOutput(`  - ${model.name}: Local interpretable explanations`, 'output');
                        });
                        break;
                    case 'clear':
                        clearTerminal();
                        return;
                    default:
                        addTerminalOutput(`command not found: ${command}`, 'error');
                        addTerminalOutput('Type "help" for available commands', 'output');
                }
            }, 500);
        }

        function addTerminalOutput(text, type = 'output') {
            const terminal = document.getElementById('terminal-output');
            const line = document.createElement('div');
            line.className = `terminal-line terminal-${type}`;
            line.textContent = text;
            terminal.appendChild(line);
            terminal.scrollTop = terminal.scrollHeight;
        }

        function clearTerminal() {
            const terminal = document.getElementById('terminal-output');
            terminal.innerHTML = `
                <div class="terminal-line">
                    <span class="terminal-prompt">$</span>
                    <span class="terminal-output">Terminal cleared</span>
                </div>
            `;
        }

        // Update closeModal function to work with Bootstrap
        function closeModal(modalId) {
            const modal = bootstrap.Modal.getInstance(document.getElementById(modalId));
            if (modal) {
                modal.hide();
            }
        }

        // Scaling and load simulation
        function scaleDeployment(deploymentId) {
            const deployment = deployments.find(d => d.id === deploymentId);
            if (!deployment) return;
            
            const newReplicas = prompt(`Current replicas: ${deployment.replicas}. Enter new replica count:`, deployment.replicas);
            if (newReplicas && !isNaN(newReplicas) && newReplicas > 0) {
                const replicaCount = parseInt(newReplicas);
                const currentReplicas = deployment.replicas;
                
                if (replicaCount > currentReplicas) {
                    // Scale up
                    for (let i = currentReplicas; i < replicaCount; i++) {
                        const pod = {
                            id: 'pod_' + Date.now() + '_' + i,
                            name: `${deployment.name}-${generateRandomString(5)}-${i}`,
                            type: 'Pod',
                            image: deployment.image,
                            namespace: 'default',
                            status: 'Pending',
                            node: getRandomNode(),
                            created: new Date().toISOString(),
                            deploymentId: deployment.id,
                            cpu: Math.random() * 30,
                            memory: Math.random() * 50
                        };
                        
                        pods.push(pod);
                        deployment.pods.push(pod.id);
                        assignPodToNode(pod);
                    }
                } else if (replicaCount < currentReplicas) {
                    // Scale down
                    const podsToRemove = deployment.pods.slice(replicaCount);
                    podsToRemove.forEach(podId => {
                        deletePod(podId);
                        const index = deployment.pods.indexOf(podId);
                        if (index > -1) {
                            deployment.pods.splice(index, 1);
                        }
                    });
                }
                
                deployment.replicas = replicaCount;
                updateKubernetesTable();
                updateDashboard();
                renderClusterVisualization();
                addTerminalOutput(`Scaled deployment ${deployment.name} to ${replicaCount} replicas`, 'success');
                
                // Simulate pod startup for scale up
                if (replicaCount > currentReplicas) {
                    setTimeout(() => {
                        deployment.pods.forEach(podId => {
                            const pod = pods.find(p => p.id === podId);
                            if (pod && pod.status === 'Pending') {
                                pod.status = 'Running';
                            }
                        });
                        updateKubernetesTable();
                        renderClusterVisualization();
                    }, 3000);
                }
            }
        }

        function simulateLoad() {
            addTerminalOutput('Simulating load on cluster...', 'output');
            
            // Increase resource usage on nodes
            nodes.forEach(node => {
                node.cpu = Math.min(95, node.cpu + Math.random() * 30);
                node.memory = Math.min(90, node.memory + Math.random() * 25);
            });
            
            // Update pod resource usage
            pods.forEach(pod => {
                pod.cpu = Math.min(80, pod.cpu + Math.random() * 20);
                pod.memory = Math.min(80, pod.memory + Math.random() * 15);
            });
            
            updateDashboard();
            renderClusterVisualization();
            updateMonitoringCharts();
            
            addTerminalOutput('Load simulation complete', 'success');
            
            // Gradually reduce load
            setTimeout(() => {
                nodes.forEach(node => {
                    node.cpu = Math.max(10, node.cpu - Math.random() * 20);
                    node.memory = Math.max(20, node.memory - Math.random() * 15);
                });
                
                pods.forEach(pod => {
                    pod.cpu = Math.max(5, pod.cpu - Math.random() * 15);
                    pod.memory = Math.max(10, pod.memory - Math.random() * 10);
                });
                
                updateDashboard();
                renderClusterVisualization();
                updateMonitoringCharts();
            }, 10000);
        }

        // Metrics collection
        function startMetricsCollection() {
            // Initial update to show data immediately
            updateMonitoringCharts();
            
            setInterval(() => {
                // Simulate resource fluctuations
                nodes.forEach(node => {
                    node.cpu += (Math.random() - 0.5) * 5;
                    node.memory += (Math.random() - 0.5) * 3;
                    node.storage += (Math.random() - 0.5) * 2;
                    
                    // Keep within bounds
                    node.cpu = Math.max(5, Math.min(95, node.cpu));
                    node.memory = Math.max(10, Math.min(90, node.memory));
                    node.storage = Math.max(20, Math.min(80, node.storage));
                });
                
                // Update dashboard if visible
                if (currentTab === 'dashboard') {
                    updateDashboard();
                } else if (currentTab === 'monitoring') {
                    updateMonitoringCharts();
                }
            }, 2000);
        }

        // Force chart refresh for monitoring tab
        function refreshMonitoringTab() {
            const monitoringTab = document.getElementById('monitoring');
            if (monitoringTab && monitoringTab.classList.contains('active')) {
                updateMonitoringCharts();
            }
        }

        // Initialize tooltips
        function initializeTooltips() {
            document.querySelectorAll('.tooltip').forEach(tooltip => {
                tooltip.addEventListener('mouseenter', function() {
                    const tooltipText = this.querySelector('.tooltiptext');
                    if (tooltipText) {
                        tooltipText.style.visibility = 'visible';
                        tooltipText.style.opacity = '1';
                    }
                });
                
                tooltip.addEventListener('mouseleave', function() {
                    const tooltipText = this.querySelector('.tooltiptext');
                    if (tooltipText) {
                        tooltipText.style.visibility = 'hidden';
                        tooltipText.style.opacity = '0';
                    }
                });
            });
        }

        // Call initialize tooltips after DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initializeTooltips();
        });

        // Pipeline management functions
        function handleCreatePipeline(e) {
            e.preventDefault();
            const pipelineName = document.getElementById('pipelineName').value;
            const engine = document.getElementById('pipelineEngine').value;
            const dataSource = document.getElementById('dataSource').value;
            const dataDestination = document.getElementById('dataDestination').value;
            const dataFormat = document.getElementById('dataFormat').value;
            const schedulingType = document.getElementById('schedulingType').value;

            // Get transformations
            const transformations = [];
            if (document.getElementById('cleanData').checked) transformations.push('clean');
            if (document.getElementById('aggregateData').checked) transformations.push('aggregate');
            if (document.getElementById('joinData').checked) transformations.push('join');
            if (document.getElementById('filterData').checked) transformations.push('filter');

            const pipeline = {
                id: 'pipe_' + Date.now(),
                name: pipelineName,
                engine: engine,
                status: 'Creating',
                source: dataSource,
                destination: dataDestination,
                format: dataFormat,
                scheduling: schedulingType,
                transformations: transformations,
                dataProcessed: '0 GB',
                runtime: '0m',
                throughput: 0,
                created: new Date().toISOString()
            };

            pipelines.push(pipeline);
            updatePipelineTable();
            updatePipelineMetrics();
            closeModal('createPipelineModal');
            addTerminalOutput(`Pipeline ${pipelineName} created with ${engine}`, 'success');

            // Simulate pipeline startup
            setTimeout(() => {
                pipeline.status = 'Running';
                pipeline.throughput = Math.floor(Math.random() * 100) + 20;
                updatePipelineTable();
                updatePipelineMetrics();
            }, 3000);
        }

        function runAllPipelines() {
            pipelines.forEach(pipeline => {
                if (pipeline.status !== 'Running') {
                    pipeline.status = 'Running';
                    pipeline.throughput = Math.floor(Math.random() * 100) + 30;
                }
            });
            updatePipelineTable();
            updatePipelineMetrics();
            addTerminalOutput('All pipelines started', 'success');
        }

        function stopAllPipelines() {
            pipelines.forEach(pipeline => {
                if (pipeline.status === 'Running') {
                    pipeline.status = 'Stopped';
                    pipeline.throughput = 0;
                }
            });
            updatePipelineTable();
            updatePipelineMetrics();
            addTerminalOutput('All pipelines stopped', 'warning');
        }

        function runPipeline(pipelineId) {
            const pipeline = pipelines.find(p => p.id === pipelineId);
            if (pipeline) {
                pipeline.status = 'Running';
                pipeline.throughput = Math.floor(Math.random() * 100) + 30;
                updatePipelineTable();
                updatePipelineMetrics();
                addTerminalOutput(`Pipeline ${pipeline.name} started`, 'success');
            }
        }

        function stopPipeline(pipelineId) {
            const pipeline = pipelines.find(p => p.id === pipelineId);
            if (pipeline) {
                pipeline.status = 'Stopped';
                pipeline.throughput = 0;
                updatePipelineTable();
                updatePipelineMetrics();
                addTerminalOutput(`Pipeline ${pipeline.name} stopped`, 'warning');
            }
        }

        function deletePipeline(pipelineId) {
            const pipelineIndex = pipelines.findIndex(p => p.id === pipelineId);
            if (pipelineIndex > -1) {
                const pipeline = pipelines[pipelineIndex];
                pipelines.splice(pipelineIndex, 1);
                updatePipelineTable();
                updatePipelineMetrics();
                addTerminalOutput(`Pipeline ${pipeline.name} deleted`, 'error');
            }
        }

        function updatePipelineTable() {
            const tbody = document.getElementById('pipeline-table');
            if (!tbody) return;
            
            tbody.innerHTML = '';

            pipelines.forEach(pipeline => {
                const row = document.createElement('tr');
                row.className = 'fade-in';
                
                const engineName = {
                    'spark': 'Apache Spark',
                    'glue': 'AWS Glue',
                    'beam': 'Apache Beam'
                }[pipeline.engine] || pipeline.engine;

                row.innerHTML = `
                    <td>${pipeline.name}</td>
                    <td><span class="badge bg-info">${engineName}</span></td>
                    <td><span class="badge bg-${pipeline.status.toLowerCase() === 'running' ? 'success' : pipeline.status.toLowerCase() === 'stopped' ? 'danger' : 'warning'}">${pipeline.status}</span></td>
                    <td>${pipeline.dataProcessed}</td>
                    <td>${pipeline.runtime}</td>
                    <td>
                        ${pipeline.status === 'Running' ? 
                            `<button class="btn btn-warning btn-sm" onclick="stopPipeline('${pipeline.id}')">Stop</button>` :
                            `<button class="btn btn-success btn-sm" onclick="runPipeline('${pipeline.id}')">Run</button>`
                        }
                        <button class="btn btn-danger btn-sm" onclick="deletePipeline('${pipeline.id}')">Delete</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function updateDataSourcesAndDestinations() {
            // Update data sources
            const sourcesContainer = document.getElementById('data-sources');
            if (sourcesContainer) {
                sourcesContainer.innerHTML = '';
                dataSources.forEach(source => {
                    const item = document.createElement('div');
                    item.className = 'list-group-item list-group-item-dark d-flex justify-content-between align-items-center';
                    item.innerHTML = `
                        <div>
                            <strong>${source.name}</strong>
                            <small class="text-muted d-block">${source.type.toUpperCase()}</small>
                        </div>
                        <div class="text-end">
                            <span class="badge bg-${source.status === 'Connected' || source.status === 'Available' ? 'success' : 'warning'}">${source.status}</span>
                            <small class="text-muted d-block">${source.records}</small>
                        </div>
                    `;
                    sourcesContainer.appendChild(item);
                });
            }

            // Update data destinations
            const destinationsContainer = document.getElementById('data-destinations');
            if (destinationsContainer) {
                destinationsContainer.innerHTML = '';
                dataDestinations.forEach(destination => {
                    const item = document.createElement('div');
                    item.className = 'list-group-item list-group-item-dark d-flex justify-content-between align-items-center';
                    item.innerHTML = `
                        <div>
                            <strong>${destination.name}</strong>
                            <small class="text-muted d-block">${destination.type.toUpperCase()}</small>
                        </div>
                        <div class="text-end">
                            <span class="badge bg-${destination.status === 'Ready' || destination.status === 'Connected' ? 'success' : 'warning'}">${destination.status}</span>
                            <small class="text-muted d-block">${destination.capacity}</small>
                        </div>
                    `;
                    destinationsContainer.appendChild(item);
                });
            }
        }

        function updatePipelineMetrics() {
            // Update pipeline overview cards
            const activePipelines = pipelines.filter(p => p.status === 'Running').length;
            const totalDataProcessed = pipelines.reduce((sum, p) => {
                const gb = parseFloat(p.dataProcessed.replace(' GB', '')) || 0;
                return sum + gb;
            }, 0);
            const avgThroughput = pipelines.length > 0 ? 
                pipelines.reduce((sum, p) => sum + p.throughput, 0) / pipelines.length : 0;
            const sparkJobs = pipelines.filter(p => p.engine === 'spark' && p.status === 'Running').length;

            document.getElementById('active-pipelines').textContent = activePipelines;
            document.getElementById('data-processed').textContent = totalDataProcessed.toFixed(1) + ' GB';
            document.getElementById('processing-rate').textContent = `‚Üë ${avgThroughput.toFixed(1)} MB/s`;
            document.getElementById('spark-jobs').textContent = sparkJobs;
        }

        function updatePipelineChart() {
            const canvas = document.getElementById('pipeline-metrics-chart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            let containerWidth = canvas.parentElement.offsetWidth;
            let containerHeight = canvas.parentElement.offsetHeight;
            
            if (containerWidth === 0) containerWidth = 400;
            if (containerHeight === 0) containerHeight = 300;
            
            const width = canvas.width = containerWidth;
            const height = canvas.height = containerHeight;
            
            ctx.clearRect(0, 0, width, height);
            ctx.fillStyle = '#1a1a1a';
            ctx.fillRect(0, 0, width, height);
            
            // Draw pipeline throughput chart
            const dataPoints = 20;
            const stepX = width / (dataPoints - 1);
            
            // Generate throughput data for running pipelines
            const runningPipelines = pipelines.filter(p => p.status === 'Running');
            if (runningPipelines.length === 0) {
                ctx.fillStyle = '#888';
                ctx.font = '16px Arial';
                ctx.fillText('No active pipelines', width/2 - 80, height/2);
                return;
            }

            // Draw throughput lines for each engine type
            const engineColors = { spark: '#FF9800', glue: '#2196F3', beam: '#4CAF50' };
            
            ['spark', 'glue', 'beam'].forEach(engine => {
                const enginePipelines = runningPipelines.filter(p => p.engine === engine);
                if (enginePipelines.length === 0) return;
                
                const avgThroughput = enginePipelines.reduce((sum, p) => sum + p.throughput, 0) / enginePipelines.length;
                
                ctx.strokeStyle = engineColors[engine];
                ctx.lineWidth = 2;
                ctx.beginPath();
                
                for (let i = 0; i < dataPoints; i++) {
                    const x = i * stepX;
                    const variation = (Math.random() - 0.5) * 20;
                    const y = height - ((avgThroughput + variation) / 100) * height;
                    
                    if (i === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.stroke();
            });
            
            // Draw legend
            let legendY = 15;
            ['spark', 'glue', 'beam'].forEach(engine => {
                const enginePipelines = runningPipelines.filter(p => p.engine === engine);
                if (enginePipelines.length === 0) return;
                
                ctx.fillStyle = engineColors[engine];
                ctx.fillRect(10, legendY, 12, 12);
                ctx.fillStyle = '#e0e0e0';
                ctx.font = '11px Arial';
                ctx.fillText(`${engine.toUpperCase()}: ${enginePipelines.length}`, 25, legendY + 9);
                legendY += 20;
            });
        }

        // Update modal functions to work with Bootstrap
        function showCreateContainerModal() {
            new bootstrap.Modal(document.getElementById('createContainerModal')).show();
        }

        function showCreatePodModal() {
            new bootstrap.Modal(document.getElementById('createPodModal')).show();
        }

        function showCreateDeploymentModal() {
            new bootstrap.Modal(document.getElementById('createDeploymentModal')).show();
        }

        function showCreateServiceModal() {
            new bootstrap.Modal(document.getElementById('createServiceModal')).show();
        }

        function showCreatePipelineModal() {
            new bootstrap.Modal(document.getElementById('createPipelineModal')).show();
        }

        function showAddModelModal() {
            new bootstrap.Modal(document.getElementById('addModelModal')).show();
        }

        // ML Interpretability Functions
        function handleAddModel(e) {
            e.preventDefault();
            const modelName = document.getElementById('modelName').value;
            const modelType = document.getElementById('modelType').value;
            const framework = document.getElementById('modelFramework').value;
            const accuracy = parseFloat(document.getElementById('modelAccuracy').value);
            const featuresText = document.getElementById('modelFeatures').value;
            const description = document.getElementById('modelDescription').value;
            const shapEnabled = document.getElementById('enableSHAP').checked;
            const limeEnabled = document.getElementById('enableLIME').checked;

            const features = featuresText.split(',').map(f => f.trim()).filter(f => f.length > 0);

            const model = {
                id: 'model_' + Date.now(),
                name: modelName,
                type: modelType,
                framework: framework,
                accuracy: accuracy,
                features: features,
                description: description,
                shapEnabled: shapEnabled,
                limeEnabled: limeEnabled,
                created: new Date().toISOString()
            };

            mlModels.push(model);
            
            // Generate interpretability data for the new model
            if (shapEnabled) {
                shapData[model.id] = model.features.map(feature => ({
                    feature: feature,
                    importance: Math.random() * 2 - 1,
                    absImportance: Math.random()
                })).sort((a, b) => b.absImportance - a.absImportance);
            }

            if (limeEnabled) {
                limeData[model.id] = model.features.map(feature => ({
                    feature: feature,
                    impact: Math.random() * 2 - 1,
                    value: Math.random() * 100
                })).sort((a, b) => Math.abs(b.impact) - Math.abs(a.impact));
            }

            updateModelsTable();
            updateMLMetrics();
            updateModelSelects();
            generateFeatureInputs();
            closeModal('addModelModal');
            addTerminalOutput(`ML Model ${modelName} added successfully`, 'success');
        }

        function updateModelsTable() {
            const tbody = document.getElementById('models-table');
            if (!tbody) return;
            
            tbody.innerHTML = '';

            mlModels.forEach(model => {
                const row = document.createElement('tr');
                row.className = 'fade-in';
                
                row.innerHTML = `
                    <td>${model.name}</td>
                    <td><span class="badge bg-info">${model.type}</span></td>
                    <td><span class="badge bg-secondary">${model.framework}</span></td>
                    <td>${model.accuracy.toFixed(1)}%</td>
                    <td>${model.shapEnabled ? '<span class="badge bg-success">‚úì</span>' : '<span class="badge bg-secondary">-</span>'}</td>
                    <td>${model.limeEnabled ? '<span class="badge bg-warning">‚úì</span>' : '<span class="badge bg-secondary">-</span>'}</td>
                    <td>
                        <button class="btn btn-info btn-sm" onclick="selectModel('${model.id}')">Select</button>
                        <button class="btn btn-danger btn-sm" onclick="deleteModel('${model.id}')">Delete</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function updateMLMetrics() {
            const activeModels = mlModels.length;
            const shapAnalyses = Object.keys(shapData).length;
            const limeExplanations = Object.keys(limeData).length;
            const avgAccuracy = mlModels.length > 0 ? 
                mlModels.reduce((sum, m) => sum + m.accuracy, 0) / mlModels.length : 0;

            document.getElementById('active-models').textContent = activeModels;
            document.getElementById('shap-analyses').textContent = shapAnalyses;
            document.getElementById('lime-explanations').textContent = limeExplanations;
            document.getElementById('model-accuracy').textContent = avgAccuracy.toFixed(1) + '%';
        }

        function updateModelSelects() {
            const shapSelect = document.getElementById('shap-model-select');
            const limeSelect = document.getElementById('lime-model-select');
            
            if (shapSelect) {
                shapSelect.innerHTML = '<option value="">Select Model</option>';
                mlModels.forEach(model => {
                    if (model.shapEnabled) {
                        const option = document.createElement('option');
                        option.value = model.id;
                        option.textContent = model.name;
                        shapSelect.appendChild(option);
                    }
                });
                
                shapSelect.addEventListener('change', function() {
                    if (this.value) {
                        currentSelectedModel = this.value;
                        updateSHAPChart();
                    }
                });
            }

            if (limeSelect) {
                limeSelect.innerHTML = '<option value="">Select Model</option>';
                mlModels.forEach(model => {
                    if (model.limeEnabled) {
                        const option = document.createElement('option');
                        option.value = model.id;
                        option.textContent = model.name;
                        limeSelect.appendChild(option);
                    }
                });
                
                limeSelect.addEventListener('change', function() {
                    if (this.value) {
                        currentSelectedModel = this.value;
                        updateLIMEChart();
                    }
                });
            }
        }

        function generateFeatureInputs() {
            const container = document.getElementById('feature-inputs');
            if (!container || mlModels.length === 0) return;

            // Use the first model's features as default
            const firstModel = mlModels[0];
            container.innerHTML = '';

            firstModel.features.forEach(feature => {
                const inputGroup = document.createElement('div');
                inputGroup.className = 'mb-2';
                inputGroup.innerHTML = `
                    <label class="form-label text-capitalize">${feature.replace('_', ' ')}:</label>
                    <input type="number" class="form-control form-control-sm" id="feature_${feature}" 
                           placeholder="Enter ${feature}" step="0.1">
                `;
                container.appendChild(inputGroup);
            });
        }

        function selectModel(modelId) {
            currentSelectedModel = modelId;
            const model = mlModels.find(m => m.id === modelId);
            if (model) {
                updateSHAPChart();
                updateLIMEChart();
                generateFeatureInputs();
                addTerminalOutput(`Selected model: ${model.name}`, 'success');
            }
        }

        function deleteModel(modelId) {
            const modelIndex = mlModels.findIndex(m => m.id === modelId);
            if (modelIndex > -1) {
                const model = mlModels[modelIndex];
                mlModels.splice(modelIndex, 1);
                delete shapData[modelId];
                delete limeData[modelId];
                updateModelsTable();
                updateMLMetrics();
                updateModelSelects();
                addTerminalOutput(`Model ${model.name} deleted`, 'error');
            }
        }

        function generateSHAPAnalysis() {
            if (mlModels.length === 0) {
                addTerminalOutput('No models available for SHAP analysis', 'error');
                return;
            }

            mlModels.forEach(model => {
                if (model.shapEnabled) {
                    // Regenerate SHAP data
                    shapData[model.id] = model.features.map(feature => ({
                        feature: feature,
                        importance: Math.random() * 2 - 1,
                        absImportance: Math.random()
                    })).sort((a, b) => b.absImportance - a.absImportance);
                }
            });

            updateSHAPChart();
            updateMLMetrics();
            addTerminalOutput('SHAP analysis completed for all enabled models', 'success');
        }

        function generateLIMEExplanation() {
            if (mlModels.length === 0) {
                addTerminalOutput('No models available for LIME explanation', 'error');
                return;
            }

            mlModels.forEach(model => {
                if (model.limeEnabled) {
                    // Regenerate LIME data
                    limeData[model.id] = model.features.map(feature => ({
                        feature: feature,
                        impact: Math.random() * 2 - 1,
                        value: Math.random() * 100
                    })).sort((a, b) => Math.abs(b.impact) - Math.abs(a.impact));
                }
            });

            updateLIMEChart();
            updateMLMetrics();
            addTerminalOutput('LIME explanations generated for all enabled models', 'success');
        }

        function makePrediction() {
            if (!currentSelectedModel) {
                addTerminalOutput('Please select a model first', 'error');
                return;
            }

            const model = mlModels.find(m => m.id === currentSelectedModel);
            if (!model) return;

            // Collect feature values
            const featureValues = {};
            model.features.forEach(feature => {
                const input = document.getElementById(`feature_${feature}`);
                if (input) {
                    featureValues[feature] = parseFloat(input.value) || 0;
                }
            });

            // Simulate prediction
            const prediction = model.type === 'classification' ? 
                (Math.random() > 0.5 ? 'Positive' : 'Negative') :
                (Math.random() * 1000).toFixed(2);
            
            const confidence = (Math.random() * 30 + 70).toFixed(1); // 70-100%

            document.getElementById('prediction-result').innerHTML = `
                <span class="h4 ${model.type === 'classification' ? 
                    (prediction === 'Positive' ? 'text-success' : 'text-warning') : 'text-info'}">${prediction}</span>
            `;
            document.getElementById('prediction-confidence').innerHTML = `
                <small class="text-muted">Confidence: ${confidence}%</small>
            `;

            // Generate interpretation summary
            const topFeatures = model.features.slice(0, 3);
            const summary = `
                <p><strong>Top influential features:</strong></p>
                <ul class="list-unstyled">
                    ${topFeatures.map(feature => `
                        <li><small><strong>${feature}:</strong> ${featureValues[feature] || 'N/A'}</small></li>
                    `).join('')}
                </ul>
                <p><small class="text-muted">This prediction is based on ${model.framework} ${model.type} model with ${model.accuracy.toFixed(1)}% accuracy.</small></p>
            `;
            document.getElementById('interpretation-summary').innerHTML = summary;

            addTerminalOutput(`Prediction made: ${prediction} (${confidence}% confidence)`, 'success');
        }

        function updateModelPerformanceChart() {
            const canvas = document.getElementById('model-performance-chart');
            if (!canvas || mlModels.length === 0) return;
            
            const ctx = canvas.getContext('2d');
            let containerWidth = canvas.parentElement.offsetWidth;
            let containerHeight = canvas.parentElement.offsetHeight;
            
            if (containerWidth === 0) containerWidth = 400;
            if (containerHeight === 0) containerHeight = 300;
            
            const width = canvas.width = containerWidth;
            const height = canvas.height = containerHeight;
            
            ctx.clearRect(0, 0, width, height);
            ctx.fillStyle = '#1a1a1a';
            ctx.fillRect(0, 0, width, height);
            
            // Draw accuracy comparison chart
            const margin = 40;
            const chartWidth = width - 2 * margin;
            const chartHeight = height - 2 * margin;
            
            // Draw axes
            ctx.strokeStyle = '#555';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(margin, height - margin);
            ctx.lineTo(width - margin, height - margin);
            ctx.moveTo(margin, margin);
            ctx.lineTo(margin, height - margin);
            ctx.stroke();
            
            // Draw bars
            const barWidth = chartWidth / mlModels.length * 0.8;
            const spacing = chartWidth / mlModels.length;
            
            mlModels.forEach((model, index) => {
                const barHeight = (model.accuracy / 100) * chartHeight;
                const x = margin + index * spacing + spacing * 0.1;
                const y = height - margin - barHeight;
                
                // Color based on framework
                const colors = {
                    'scikit-learn': '#FF6B6B',
                    'tensorflow': '#4ECDC4',
                    'pytorch': '#45B7D1',
                    'xgboost': '#96CEB4',
                    'lightgbm': '#FFEAA7',
                    'catboost': '#DDA0DD'
                };
                
                ctx.fillStyle = colors[model.framework] || '#888';
                ctx.fillRect(x, y, barWidth, barHeight);
                
                // Draw accuracy text
                ctx.fillStyle = '#e0e0e0';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(`${model.accuracy.toFixed(1)}%`, x + barWidth/2, y - 5);
                
                // Draw model name
                ctx.save();
                ctx.translate(x + barWidth/2, height - margin + 15);
                ctx.rotate(-Math.PI/4);
                ctx.textAlign = 'right';
                ctx.fillText(model.name, 0, 0);
                ctx.restore();
            });
            
            // Draw title
            ctx.fillStyle = '#e0e0e0';
            ctx.font = '14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Model Accuracy Comparison', width/2, 20);
        }

        function updateSHAPChart() {
            const canvas = document.getElementById('shap-chart');
            if (!canvas) return;
            
            const selectedModelId = document.getElementById('shap-model-select')?.value || currentSelectedModel;
            if (!selectedModelId || !shapData[selectedModelId]) {
                const ctx = canvas.getContext('2d');
                const width = canvas.width = canvas.parentElement.offsetWidth || 400;
                const height = canvas.height = canvas.parentElement.offsetHeight || 300;
                
                ctx.clearRect(0, 0, width, height);
                ctx.fillStyle = '#1a1a1a';
                ctx.fillRect(0, 0, width, height);
                ctx.fillStyle = '#888';
                ctx.font = '16px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('Select a model to view SHAP analysis', width/2, height/2);
                return;
            }
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width = canvas.parentElement.offsetWidth || 400;
            const height = canvas.height = canvas.parentElement.offsetHeight || 300;
            
            ctx.clearRect(0, 0, width, height);
            ctx.fillStyle = '#1a1a1a';
            ctx.fillRect(0, 0, width, height);
            
            const data = shapData[selectedModelId];
            const margin = 40;
            const chartWidth = width - 2 * margin;
            const chartHeight = height - 2 * margin;
            
            // Draw horizontal bar chart
            const barHeight = chartHeight / data.length * 0.8;
            const spacing = chartHeight / data.length;
            
            data.forEach((item, index) => {
                const barWidth = Math.abs(item.importance) * chartWidth / 2;
                const x = item.importance >= 0 ? width/2 : width/2 - barWidth;
                const y = margin + index * spacing + spacing * 0.1;
                
                // Color based on positive/negative impact
                ctx.fillStyle = item.importance >= 0 ? '#4CAF50' : '#F44336';
                ctx.fillRect(x, y, barWidth, barHeight);
                
                // Draw feature name
                ctx.fillStyle = '#e0e0e0';
                ctx.font = '11px Arial';
                ctx.textAlign = 'right';
                ctx.fillText(item.feature, width/2 - 10, y + barHeight/2 + 3);
                
                // Draw importance value
                ctx.textAlign = 'left';
                ctx.fillText(item.importance.toFixed(3), width/2 + 10, y + barHeight/2 + 3);
            });
            
            // Draw center line
            ctx.strokeStyle = '#555';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(width/2, margin);
            ctx.lineTo(width/2, height - margin);
            ctx.stroke();
            
            // Draw title
            ctx.fillStyle = '#e0e0e0';
            ctx.font = '14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('SHAP Feature Importance', width/2, 20);
        }

        function updateLIMEChart() {
            const canvas = document.getElementById('lime-chart');
            if (!canvas) return;
            
            const selectedModelId = document.getElementById('lime-model-select')?.value || currentSelectedModel;
            if (!selectedModelId || !limeData[selectedModelId]) {
                const ctx = canvas.getContext('2d');
                const width = canvas.width = canvas.parentElement.offsetWidth || 400;
                const height = canvas.height = canvas.parentElement.offsetHeight || 300;
                
                ctx.clearRect(0, 0, width, height);
                ctx.fillStyle = '#1a1a1a';
                ctx.fillRect(0, 0, width, height);
                ctx.fillStyle = '#888';
                ctx.font = '16px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('Select a model to view LIME explanation', width/2, height/2);
                return;
            }
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width = canvas.parentElement.offsetWidth || 400;
            const height = canvas.height = canvas.parentElement.offsetHeight || 300;
            
            ctx.clearRect(0, 0, width, height);
            ctx.fillStyle = '#1a1a1a';
            ctx.fillRect(0, 0, width, height);
            
            const data = limeData[selectedModelId];
            const margin = 40;
            const chartWidth = width - 2 * margin;
            const chartHeight = height - 2 * margin;
            
            // Draw horizontal bar chart
            const barHeight = chartHeight / data.length * 0.8;
            const spacing = chartHeight / data.length;
            
            data.forEach((item, index) => {
                const barWidth = Math.abs(item.impact) * chartWidth / 2;
                const x = item.impact >= 0 ? width/2 : width/2 - barWidth;
                const y = margin + index * spacing + spacing * 0.1;
                
                // Color based on positive/negative impact
                ctx.fillStyle = item.impact >= 0 ? '#FF9800' : '#9C27B0';
                ctx.fillRect(x, y, barWidth, barHeight);
                
                // Draw feature name
                ctx.fillStyle = '#e0e0e0';
                ctx.font = '11px Arial';
                ctx.textAlign = 'right';
                ctx.fillText(item.feature, width/2 - 10, y + barHeight/2 + 3);
                
                // Draw impact value
                ctx.textAlign = 'left';
                ctx.fillText(item.impact.toFixed(3), width/2 + 10, y + barHeight/2 + 3);
            });
            
            // Draw center line
            ctx.strokeStyle = '#555';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(width/2, margin);
            ctx.lineTo(width/2, height - margin);
            ctx.stroke();
            
            // Draw title
            ctx.fillStyle = '#e0e0e0';
            ctx.font = '14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('LIME Local Explanation', width/2, 20);
        }

        // Remove old tab switching logic and use Bootstrap's built-in tab functionality
        // Bootstrap tabs automatically handle the switching

        // Microservices Architecture Functions
        function initializeMicroservicesTopology() {
            const container = document.getElementById('microservices-topology');
            if (!container) return;

            // Clear existing content
            container.innerHTML = '';

            // Create microservices nodes
            const services = [
                { id: 'nginx', name: 'NGINX', type: 'nginx-proxy', x: 100, y: 50 },
                { id: 'api-gateway', name: 'API Gateway', type: 'aws-gateway', x: 300, y: 50 },
                { id: 'eureka', name: 'Eureka', type: 'service-discovery', x: 500, y: 50 },
                { id: 'user-service', name: 'User Service', type: 'spring-boot-service', x: 150, y: 200 },
                { id: 'order-service', name: 'Order Service', type: 'spring-boot-service', x: 350, y: 200 },
                { id: 'payment-service', name: 'Payment Service', type: 'spring-boot-service', x: 550, y: 200 },
                { id: 'notification-service', name: 'Notification Service', type: 'spring-boot-service', x: 750, y: 200 },
                { id: 'rabbitmq', name: 'RabbitMQ', type: 'rabbitmq-service', x: 200, y: 350 },
                { id: 'kafka', name: 'Kafka', type: 'kafka-service', x: 400, y: 350 },
                { id: 'prometheus', name: 'Prometheus', type: 'prometheus-service', x: 600, y: 350 },
                { id: 'grafana', name: 'Grafana', type: 'grafana-service', x: 800, y: 350 },
                { id: 'elk', name: 'ELK Stack', type: 'elk-service', x: 400, y: 500 }
            ];

            // Create service nodes
            services.forEach(service => {
                const serviceNode = document.createElement('div');
                serviceNode.className = `service-mesh-node ${service.type}`;
                serviceNode.style.left = service.x + 'px';
                serviceNode.style.top = service.y + 'px';
                serviceNode.innerHTML = `
                    <div style="text-align: center; color: white; font-size: 0.75rem;">
                        ${service.name}
                    </div>
                `;
                serviceNode.onclick = () => showServiceDetails(service);
                container.appendChild(serviceNode);
            });

            // Create connections between services
            drawServiceConnections(container, services);
        }

        function drawServiceConnections(container, services) {
            // Define connections between services
            const connections = [
                { from: 'nginx', to: 'api-gateway' },
                { from: 'api-gateway', to: 'eureka' },
                { from: 'api-gateway', to: 'user-service' },
                { from: 'api-gateway', to: 'order-service' },
                { from: 'api-gateway', to: 'payment-service' },
                { from: 'order-service', to: 'rabbitmq' },
                { from: 'payment-service', to: 'kafka' },
                { from: 'rabbitmq', to: 'notification-service' },
                { from: 'kafka', to: 'notification-service' },
                { from: 'user-service', to: 'prometheus' },
                { from: 'order-service', to: 'prometheus' },
                { from: 'payment-service', to: 'prometheus' },
                { from: 'notification-service', to: 'prometheus' },
                { from: 'prometheus', to: 'grafana' },
                { from: 'prometheus', to: 'elk' }
            ];

            connections.forEach(conn => {
                const fromService = services.find(s => s.id === conn.from);
                const toService = services.find(s => s.id === conn.to);
                
                if (fromService && toService) {
                    const connection = document.createElement('div');
                    connection.className = 'service-connection';
                    
                    const fromX = fromService.x + 50;
                    const fromY = fromService.y + 50;
                    const toX = toService.x + 50;
                    const toY = toService.y + 50;
                    
                    const length = Math.sqrt(Math.pow(toX - fromX, 2) + Math.pow(toY - fromY, 2));
                    const angle = Math.atan2(toY - fromY, toX - fromX) * 180 / Math.PI;
                    
                    connection.style.left = fromX + 'px';
                    connection.style.top = fromY + 'px';
                    connection.style.width = length + 'px';
                    connection.style.transform = `rotate(${angle}deg)`;
                    connection.style.transformOrigin = '0 0';
                    
                    container.appendChild(connection);
                }
            });
        }

        function showServiceDetails(service) {
            const detailsDiv = document.getElementById('service-details');
            if (detailsDiv) {
                detailsDiv.innerHTML = `
                    <div class="service-registry-item">
                        <h6><span class="service-status healthy"></span>${service.name}</h6>
                        <p><strong>Type:</strong> ${service.type}</p>
                        <p><strong>Status:</strong> Running</p>
                        <p><strong>Position:</strong> (${service.x}, ${service.y})</p>
                        <p><strong>Health Check:</strong> Passing</p>
                    </div>
                `;
            }
        }

        // Initialize charts for microservices
        function initializeMicroservicesCharts() {
            // Gateway requests chart
            const gatewayCtx = document.getElementById('gateway-requests-chart');
            if (gatewayCtx) {
                new Chart(gatewayCtx, {
                    type: 'line',
                    data: {
                        labels: ['00:00', '00:05', '00:10', '00:15', '00:20', '00:25', '00:30'],
                        datasets: [{
                            label: 'Requests/min',
                            data: [120, 156, 189, 203, 178, 145, 167],
                            borderColor: '#2196F3',
                            backgroundColor: 'rgba(33, 150, 243, 0.1)',
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#e0e0e0'
                                }
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    color: '#e0e0e0'
                                },
                                grid: {
                                    color: '#444'
                                }
                            },
                            y: {
                                ticks: {
                                    color: '#e0e0e0'
                                },
                                grid: {
                                    color: '#444'
                                }
                            }
                        }
                    }
                });
            }

            // Message flow chart
            const messageCtx = document.getElementById('message-flow-chart');
            if (messageCtx) {
                new Chart(messageCtx, {
                    type: 'bar',
                    data: {
                        labels: ['RabbitMQ', 'Kafka', 'Redis', 'SQS'],
                        datasets: [{
                            label: 'Messages/sec',
                            data: [1200, 2400, 800, 600],
                            backgroundColor: [
                                '#FF6600',
                                '#231F20',
                                '#DC382D',
                                '#FF9900'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#e0e0e0'
                                }
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    color: '#e0e0e0'
                                },
                                grid: {
                                    color: '#444'
                                }
                            },
                            y: {
                                ticks: {
                                    color: '#e0e0e0'
                                },
                                grid: {
                                    color: '#444'
                                }
                            }
                        }
                    }
                });
            }

            // Grafana dashboard chart
            const grafanaCtx = document.getElementById('grafana-dashboard-chart');
            if (grafanaCtx) {
                new Chart(grafanaCtx, {
                    type: 'line',
                    data: {
                        labels: ['14:20', '14:21', '14:22', '14:23', '14:24', '14:25', '14:26', '14:27', '14:28', '14:29', '14:30'],
                        datasets: [{
                            label: 'CPU Usage %',
                            data: [45, 52, 48, 61, 58, 64, 69, 75, 72, 68, 71],
                            borderColor: '#E6522C',
                            backgroundColor: 'rgba(230, 82, 44, 0.1)',
                            fill: true
                        }, {
                            label: 'Memory Usage %',
                            data: [65, 67, 69, 72, 74, 76, 78, 81, 83, 85, 87],
                            borderColor: '#F46800',
                            backgroundColor: 'rgba(244, 104, 0, 0.1)',
                            fill: true
                        }, {
                            label: 'Response Time (ms)',
                            data: [120, 135, 128, 145, 142, 156, 168, 175, 162, 158, 164],
                            borderColor: '#005571',
                            backgroundColor: 'rgba(0, 85, 113, 0.1)',
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#e0e0e0'
                                }
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    color: '#e0e0e0'
                                },
                                grid: {
                                    color: '#444'
                                }
                            },
                            y: {
                                ticks: {
                                    color: '#e0e0e0'
                                },
                                grid: {
                                    color: '#444'
                                }
                            }
                        }
                    }
                });
            }
        }

        // Add missing initialization functions
        function initializeCluster() {
            // Initialize cluster visualization
            const clusterContainer = document.querySelector('.cluster-visualization');
            if (clusterContainer) {
                clusterContainer.innerHTML = `
                    <div class="cluster-node master">
                        <h6>Master Node</h6>
                        <div class="pods-container">
                            <div class="pod running" title="kube-apiserver">A</div>
                            <div class="pod running" title="kube-scheduler">S</div>
                            <div class="pod running" title="kube-controller">C</div>
                        </div>
                    </div>
                    <div class="cluster-node worker">
                        <h6>Worker Node 1</h6>
                        <div class="pods-container">
                            <div class="pod running" title="nginx">N</div>
                            <div class="pod running" title="redis">R</div>
                            <div class="pod pending" title="app">A</div>
                        </div>
                    </div>
                    <div class="cluster-node worker">
                        <h6>Worker Node 2</h6>
                        <div class="pods-container">
                            <div class="pod running" title="postgres">P</div>
                            <div class="pod running" title="app">A</div>
                            <div class="pod failed" title="cache">C</div>
                        </div>
                    </div>
                `;
            }
        }

        function initializeCharts() {
            // Initialize basic charts
            const dockerCtx = document.getElementById('docker-chart');
            if (dockerCtx) {
                new Chart(dockerCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Running', 'Stopped', 'Pending'],
                        datasets: [{
                            data: [12, 3, 2],
                            backgroundColor: ['#4CAF50', '#f44336', '#FF9800']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#e0e0e0'
                                }
                            }
                        }
                    }
                });
            }

            const k8sCtx = document.getElementById('k8s-chart');
            if (k8sCtx) {
                new Chart(k8sCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Running', 'Pending', 'Failed'],
                        datasets: [{
                            data: [8, 2, 1],
                            backgroundColor: ['#4CAF50', '#FF9800', '#f44336']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    color: '#e0e0e0'
                                }
                            },
                            y: {
                                ticks: {
                                    color: '#e0e0e0'
                                }
                            }
                        }
                    }
                });
            }
        }

        function initializePipelineVisualization() {
            // Initialize pipeline visualization
            const pipelineContainer = document.querySelector('.pipeline-visualization');
            if (pipelineContainer) {
                pipelineContainer.innerHTML = `
                    <div class="pipeline-stage">
                        <h6>Data Ingestion</h6>
                        <div class="stage-status running">Active</div>
                    </div>
                    <div class="pipeline-stage">
                        <h6>Data Processing</h6>
                        <div class="stage-status running">Active</div>
                    </div>
                    <div class="pipeline-stage">
                        <h6>Data Storage</h6>
                        <div class="stage-status running">Active</div>
                    </div>
                `;
            }
        }

        function initializeMLInterpretability() {
            // Initialize ML interpretability components
            const modelsContainer = document.querySelector('.models-container');
            if (modelsContainer) {
                modelsContainer.innerHTML = `
                    <div class="model-card">
                        <h6>Random Forest Model</h6>
                        <div class="model-metrics">
                            <div>Accuracy: 94.2%</div>
                            <div>Precision: 91.8%</div>
                        </div>
                    </div>
                `;
            }
        }

        function updateCounts() {
            // Update various counts in the UI
            document.getElementById('docker-count').textContent = Math.floor(Math.random() * 20) + 10;
            document.getElementById('k8s-count').textContent = Math.floor(Math.random() * 15) + 5;
            document.getElementById('node-count').textContent = '3';
            document.getElementById('pod-count').textContent = Math.floor(Math.random() * 25) + 8;
        }

        function updateMetrics() {
            // Update metrics with random values to simulate live data
            const metrics = document.querySelectorAll('.metric-value');
            metrics.forEach(metric => {
                const current = parseInt(metric.textContent) || 0;
                const variation = Math.floor(Math.random() * 10) - 5;
                const newValue = Math.max(0, current + variation);
                metric.textContent = newValue;
            });
        }

        // Add missing modal and action functions
        function scaleDeployment() {
            alert('Scaling deployment... This would typically increase/decrease replica count.');
        }

        function simulateLoad() {
            alert('Simulating load... This would generate traffic to test the system.');
            // Simulate increased metrics
            updateMetrics();
        }

        // Update the initialization function
        function initializeApplication() {
            // Initialize all existing functionality
            initializeCluster();
            initializeCharts();
            initializePipelineVisualization();
            initializeMLInterpretability();
            
            // Initialize new microservices functionality
            initializeMicroservicesTopology();
            initializeMicroservicesCharts();
            
            // Update counts and metrics
            updateCounts();
            updateMetrics();
            
            // Set up periodic updates
            setInterval(updateMetrics, 5000);
            setInterval(updateCounts, 3000);
            
            // Start real-time log simulation
            startLogSimulation();
        }

        function startLogSimulation() {
            const logTypes = ['info', 'warning', 'error', 'debug'];
            const services = ['user-service', 'order-service', 'payment-service', 'notification-service'];
            const messages = {
                'info': [
                    'Request processed successfully',
                    'Database connection established',
                    'Cache updated',
                    'Health check passed'
                ],
                'warning': [
                    'High memory usage detected',
                    'Slow database query',
                    'Cache miss rate increased',
                    'Connection pool nearly full'
                ],
                'error': [
                    'Database connection failed',
                    'Payment processing failed',
                    'Service unavailable',
                    'Authentication failed'
                ],
                'debug': [
                    'Request routed to service',
                    'Database query executed',
                    'Cache lookup performed',
                    'API call made'
                ]
            };

            setInterval(() => {
                const logType = logTypes[Math.floor(Math.random() * logTypes.length)];
                const service = services[Math.floor(Math.random() * services.length)];
                const message = messages[logType][Math.floor(Math.random() * messages[logType].length)];
                const timestamp = new Date().toISOString().slice(0, 19).replace('T', ' ');
                
                const logEntry = document.createElement('div');
                logEntry.className = `log-entry ${logType}`;
                logEntry.innerHTML = `<strong>${timestamp}</strong> [${logType.toUpperCase()}] ${service} - ${message}`;
                
                // Add to ELK logs section
                const elkLogsContainer = document.querySelector('#monitoring-stack .card-body div[style*="overflow-y: auto"]');
                if (elkLogsContainer) {
                    elkLogsContainer.insertBefore(logEntry, elkLogsContainer.firstChild);
                    
                    // Keep only last 20 logs
                    while (elkLogsContainer.children.length > 20) {
                        elkLogsContainer.removeChild(elkLogsContainer.lastChild);
                    }
                }
            }, 2000);
        }

        // Testing Framework Functions
        function runJestTests() {
            logToTestConsole('Running Jest unit tests...');
            
            // Simulate Jest test execution
            setTimeout(() => {
                const passed = Math.floor(Math.random() * 20) + 10;
                const failed = Math.floor(Math.random() * 5);
                const total = passed + failed;
                
                updateTestCount('jest', total, passed, failed);
                logToTestConsole(`‚úì ${passed} tests passed`);
                if (failed > 0) {
                    logToTestConsole(`‚úó ${failed} tests failed`);
                }
                logToTestConsole('Jest test execution completed');
                
                // Update test results display
                updateTestResults('Jest', passed, failed);
            }, 2000);
        }

        function runMochaTests() {
            logToTestConsole('Running Mocha tests with Chai assertions...');
            
            // Simulate Mocha test execution
            setTimeout(() => {
                const passed = Math.floor(Math.random() * 15) + 8;
                const failed = Math.floor(Math.random() * 3);
                const total = passed + failed;
                
                updateTestCount('mocha', total, passed, failed);
                logToTestConsole(`  ${passed} passing`);
                if (failed > 0) {
                    logToTestConsole(`  ${failed} failing`);
                }
                logToTestConsole('Mocha test execution completed');
                
                // Update test results display
                updateTestResults('Mocha', passed, failed);
            }, 2500);
        }

        function runCypressTests() {
            logToTestConsole('Running Cypress E2E tests...');
            
            // Simulate Cypress test execution
            setTimeout(() => {
                const passed = Math.floor(Math.random() * 12) + 5;
                const failed = Math.floor(Math.random() * 2);
                const total = passed + failed;
                
                updateTestCount('cypress', total, passed, failed);
                logToTestConsole(`Running: ${total} tests`);
                logToTestConsole(`‚úì ${passed} tests passed`);
                if (failed > 0) {
                    logToTestConsole(`‚úó ${failed} tests failed`);
                }
                logToTestConsole('Cypress test execution completed');
                
                // Update test results display
                updateTestResults('Cypress', passed, failed);
            }, 3000);
        }

        function generateJestReport() {
            logToTestConsole('Generating Jest coverage report...');
            setTimeout(() => {
                logToTestConsole('Report generated: jest-coverage-report.html');
                updateCoverageMetrics();
            }, 1000);
        }

        function generateMochaReport() {
            logToTestConsole('Generating Mocha test report...');
            setTimeout(() => {
                logToTestConsole('Report generated: mocha-test-results.json');
                updateCoverageMetrics();
            }, 1000);
        }

        function openCypressRunner() {
            logToTestConsole('Opening Cypress Test Runner...');
            setTimeout(() => {
                logToTestConsole('Cypress Runner opened in new window');
            }, 500);
        }

        function updateTestCount(framework, total, passed, failed) {
            document.getElementById(`${framework}-test-count`).textContent = total;
            document.getElementById(`${framework}-passed`).textContent = passed;
            document.getElementById(`${framework}-failed`).textContent = failed;
        }

        function logToTestConsole(message) {
            const console = document.getElementById('test-console');
            const entry = document.createElement('div');
            entry.className = 'terminal-output';
            entry.textContent = message;
            console.appendChild(entry);
            console.scrollTop = console.scrollHeight;
        }

        function updateTestResults(framework, passed, failed) {
            const resultsContainer = document.getElementById('test-results');
            
            // Add new test results
            for (let i = 0; i < passed; i++) {
                const result = document.createElement('div');
                result.className = 'test-result test-pass';
                result.textContent = `‚úì ${framework} test ${i + 1} passed`;
                resultsContainer.appendChild(result);
            }
            
            for (let i = 0; i < failed; i++) {
                const result = document.createElement('div');
                result.className = 'test-result test-fail';
                result.innerHTML = `‚úó ${framework} test ${passed + i + 1} failed<br><small>Assertion error: Expected behavior not met</small>`;
                resultsContainer.appendChild(result);
            }
            
            // Keep only last 20 results
            while (resultsContainer.children.length > 20) {
                resultsContainer.removeChild(resultsContainer.firstChild);
            }
        }

        function updateCoverageMetrics() {
            const statements = Math.floor(Math.random() * 20) + 75;
            const branches = Math.floor(Math.random() * 25) + 70;
            const functions = Math.floor(Math.random() * 15) + 85;
            const lines = Math.floor(Math.random() * 20) + 80;
            
            document.getElementById('coverage-statements').textContent = `${statements}%`;
            document.getElementById('coverage-branches').textContent = `${branches}%`;
            document.getElementById('coverage-functions').textContent = `${functions}%`;
            document.getElementById('coverage-lines').textContent = `${lines}%`;
            
            // Update progress bars
            document.querySelector('#testing .coverage-bar:nth-child(1) .coverage-fill').style.width = `${statements}%`;
            document.querySelector('#testing .coverage-bar:nth-child(2) .coverage-fill').style.width = `${branches}%`;
            document.querySelector('#testing .coverage-bar:nth-child(3) .coverage-fill').style.width = `${functions}%`;
            document.querySelector('#testing .coverage-bar:nth-child(4) .coverage-fill').style.width = `${lines}%`;
        }

        function initializeTestPerformanceChart() {
            const ctx = document.getElementById('test-performance-chart');
            if (ctx) {
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5'],
                        datasets: [{
                            label: 'Test Execution Time (s)',
                            data: [12, 19, 15, 25, 22],
                            borderColor: '#2196F3',
                            backgroundColor: 'rgba(33, 150, 243, 0.1)',
                            tension: 0.4
                        }, {
                            label: 'Tests Passed',
                            data: [45, 52, 48, 61, 58],
                            borderColor: '#4CAF50',
                            backgroundColor: 'rgba(76, 175, 80, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#e0e0e0'
                                }
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    color: '#e0e0e0'
                                },
                                grid: {
                                    color: '#444'
                                }
                            },
                            y: {
                                ticks: {
                                    color: '#e0e0e0'
                                },
                                grid: {
                                    color: '#444'
                                }
                            }
                        }
                    }
                });
            }
        }

        // Backend & Frontend Architecture Functions
        function showComponentDetails(component) {
            const details = {
                'controllers': 'REST Controllers handle HTTP requests and route them to appropriate services. They define API endpoints and manage request/response flow.',
                'services': 'Service layer contains business logic and orchestrates operations between controllers and repositories. Implements core application functionality.',
                'repositories': 'Repository layer provides data access abstraction using Spring Data JPA. Handles database operations and entity management.',
                'models': 'Entity models represent data structures and database tables. Define relationships and constraints for persistent data.',
                'postgresql': 'PostgreSQL serves as the primary relational database for persistent data storage with ACID compliance.',
                'redis': 'Redis provides in-memory caching for improved performance and session management.',
                'elasticsearch': 'Elasticsearch enables full-text search capabilities and log aggregation for the application.'
            };
            
            logToBackendConsole(`Component Details: ${component}`);
            logToBackendConsole(details[component] || 'Component information not available');
        }

        function showFrontendDetails(component) {
            const details = {
                'components': 'React/Vue/Angular components are reusable UI building blocks that encapsulate presentation logic and state.',
                'routing': 'Client-side routing enables single-page application navigation without full page reloads.',
                'state': 'State management systems like Redux/Vuex centralize application state for predictable data flow.',
                'api': 'HTTP client libraries handle API communication with the backend services.',
                'webpack': 'Module bundlers optimize and package frontend assets for production deployment.',
                'babel': 'Transpilation tools convert modern JavaScript/TypeScript to browser-compatible code.',
                'eslint': 'Code quality tools ensure consistent formatting and catch potential issues during development.'
            };
            
            logToFrontendConsole(`Component Details: ${component}`);
            logToFrontendConsole(details[component] || 'Component information not available');
        }

        function logToBackendConsole(message) {
            console.log(`[Backend] ${message}`);
        }

        function logToFrontendConsole(message) {
            console.log(`[Frontend] ${message}`);
        }

        function initializeBackendChart() {
            const ctx = document.getElementById('backend-performance-chart');
            if (ctx) {
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00'],
                        datasets: [{
                            label: 'Response Time (ms)',
                            data: [85, 92, 78, 105, 88, 95],
                            borderColor: '#4CAF50',
                            backgroundColor: 'rgba(76, 175, 80, 0.1)',
                            tension: 0.4
                        }, {
                            label: 'Throughput (req/s)',
                            data: [2400, 2100, 2800, 1900, 2600, 2300],
                            borderColor: '#2196F3',
                            backgroundColor: 'rgba(33, 150, 243, 0.1)',
                            tension: 0.4,
                            yAxisID: 'y1'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#e0e0e0'
                                }
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    color: '#e0e0e0'
                                },
                                grid: {
                                    color: '#444'
                                }
                            },
                            y: {
                                type: 'linear',
                                display: true,
                                position: 'left',
                                ticks: {
                                    color: '#e0e0e0'
                                },
                                grid: {
                                    color: '#444'
                                }
                            },
                            y1: {
                                type: 'linear',
                                display: true,
                                position: 'right',
                                ticks: {
                                    color: '#e0e0e0'
                                },
                                grid: {
                                    drawOnChartArea: false,
                                }
                            }
                        }
                    }
                });
            }
        }

        function initializeFrontendChart() {
            const ctx = document.getElementById('frontend-performance-chart');
            if (ctx) {
                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['JavaScript', 'CSS', 'Images', 'Fonts', 'Other'],
                        datasets: [{
                            data: [45, 25, 20, 7, 3],
                            backgroundColor: [
                                '#2196F3',
                                '#4CAF50',
                                '#FF9800',
                                '#9C27B0',
                                '#607D8B'
                            ],
                            borderColor: '#444',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: '#e0e0e0'
                                }
                            }
                        }
                    }
                });
            }
        }

        function updateBackendMetrics() {
            // Simulate real-time metrics updates
            const responseTime = Math.floor(Math.random() * 50) + 60;
            const throughput = (Math.random() * 1000 + 2000).toFixed(1);
            const cpuUsage = Math.floor(Math.random() * 30) + 50;
            const memoryUsage = Math.floor(Math.random() * 25) + 65;

            document.getElementById('backend-response-time').textContent = `${responseTime}ms`;
            document.getElementById('backend-throughput').textContent = `${throughput}/s`;
            document.getElementById('backend-cpu-usage').textContent = `${cpuUsage}%`;
            document.getElementById('backend-memory-usage').textContent = `${memoryUsage}%`;
        }

        function updateFrontendMetrics() {
            // Simulate real-time metrics updates
            const loadTime = (Math.random() * 0.8 + 0.8).toFixed(1);
            const bundleSize = Math.floor(Math.random() * 50) + 220;
            const lighthouse = Math.floor(Math.random() * 8) + 88;
            const components = Math.floor(Math.random() * 20) + 140;

            document.getElementById('frontend-load-time').textContent = `${loadTime}s`;
            document.getElementById('frontend-bundle-size').textContent = `${bundleSize}KB`;
            document.getElementById('frontend-lighthouse').textContent = lighthouse;
            document.getElementById('frontend-components').textContent = components;
        }

        function simulateArchitectureActivity() {
            // Update metrics every 5 seconds
            setInterval(() => {
                updateBackendMetrics();
                updateFrontendMetrics();
            }, 5000);

            // Simulate pipeline status updates
            setInterval(() => {
                const indicators = document.querySelectorAll('.status-indicator');
                indicators.forEach(indicator => {
                    const statuses = ['status-healthy', 'status-warning', 'status-loading'];
                    const randomStatus = statuses[Math.floor(Math.random() * statuses.length)];
                    indicator.className = `status-indicator ${randomStatus}`;
                });
            }, 10000);
        }

        // Initialize everything when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Add a small delay to ensure all DOM elements are ready
            setTimeout(function() {
                initializeApplication();
                initializeTestPerformanceChart();
                initializeBackendChart();
                initializeFrontendChart();
                simulateArchitectureActivity();
            }, 100);
        });
    </script>
    
    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
